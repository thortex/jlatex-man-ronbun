%#!platex ron.tex
\def\ron@date{2006/02/20}
\def\ron@ver{v2.0}
\ProvidesPackage{ronmodi}[\ron@date\space \ron@ver\space (Thor Watanabe)]
%
% messages
\typeout{
 "Love Love LaTeX2e for beginners" \ron@date\space \ron@ver\space by Thor ^^J
 filename=ronmodi.sty^^J
 update =\ron@date\space \ron@ver\space^^J
 author =Thor Watanabe^^J
 email \space=thor@tex.dante.jp^^J
 webpage=http://tex.dante.jp/}
%
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
%
% Required pacakges %%%%%%%%%%
\RequirePackage[usenames,dvipsnames]{color}[1999/02/16]
\RequirePackage{graphicx}[1999/02/16]
\RequirePackage{amsmath}[2000/07/18]
\RequirePackage{amssymb}[2002/01/22]
\RequirePackage{theorem}[1995/11/23]
\RequirePackage{bm}[2004/02/26]
\RequirePackage{wrapfig}[2003/01/31]
\RequirePackage{xspace}[1997/10/13]
\RequirePackage{makeidx}[2000/03/29]
\RequirePackage{multicol}[2004/02/14]
\RequirePackage{verbatim}[2003/08/22]
\RequirePackage{delarray}[1994/03/14]
\RequirePackage{dcolumn}[2001/05/28]
\RequirePackage{multirow}\relax
\RequirePackage{labelfig}\relax
\RequirePackage{mflogo}[1999/03/10]
\RequirePackage{booktabs}[2000/08/16]
\RequirePackage{setspace}[2000/12/01]
%\[top|mid|bottom|cmid]rule
\RequirePackage{calc}[1998/07/07]
%
% Obsolete packages
\RequirePackage[obeyspaces,spaces]{url}[1999/03/28]
\RequirePackage{fancybox}[2000/09/19]
\RequirePackage{leftidx,indent}\relax
\RequirePackage{epic,eepic}\relax
%
% Delicate pacakges 
\RequirePackage{listings}[2004/02/13]% v1.2 is better. 
\RequirePackage{jlisting}[2004/03/24]
\RequirePackage{okumacro}[2003/11/24]
% Font packages
\IfFileExists{type1ec.sty}%
  {%
    \RequirePackage{type1ec}%
    \RequirePackage{textcomp}%
    \RequirePackage[T1]{fontenc}% ec
  }{%
    \RequirePackage{type1cm}%
    \RequirePackage{textcomp}%
    \RequirePackage[T1]{fontenc}% cm-super
  }
% pict2e
\RequirePackage{pict2e}[2004/02/19]
% without cite if use hyperref
\ifusehyperref\else
  \RequirePackage{cite}
\fi
%
% url definitions
\urldef{\fdlja}{\url}{http://www.gnu.org/copyleft/fdl.ja.html}
\urldef{\manurl}{\url}{http://tex.dante.jp/typo/}
\urldef{\ronurl}{\url}{http://tex.dante.jp/ron/}
\urldef{\okumura}{\url}{http://oku.edu.mie-u.ac.jp/~okumura/texwiki/}
\urldef{\webjabref}{\url}{http://jabref.sourceforge.net/}
\urldef{\webdvipdfmx}{\url}{http://project.ktug.or.kr/dvipdfmx/}
\urldef{\webgoogle}{\url}{http://www.google.co.jp} 
\urldef{\webetwol}{\url}{http://www32.ocn.ne.jp/~butcher_bird/Mac/Excel.html}
\urldef{\webetwot}{\url}{http://www.ne.jp/asahi/i/love/E2T/}
\urldef{\webctwol}{\url}{http://web.hc.keio.ac.jp/~mr041754/calc2latex/indexj.html}
\urldef{\webepsconv}{\url}{http://hp.vector.co.jp/authors/VA023018/}
\urldef{\webgplotman}{\url}{http://takeno.iee.niit.ac.jp/~foo/gp-jman/}
\urldef{\webscilabman}{\url}{http://www.ecl.sys.hiroshima-u.ac.jp/scilab/docjp.html}
\urldef{\webyatex}{\url}{http://www.yatex.org/}
\urldef{\webexceltex}{\url}{http://www.ring.gr.jp/pub/text/CTAN/macros/latex/contrib/exceltex/}
\urldef{\websetspace}{\url}{http://www.ring.gr.jp/pub/text/CTAN/macros/latex/contrib/setspace/}
\urldef{\webabenori}{\url}{http://www.ms.u-tokyo.ac.jp/~abenori/}
\urldef{\webtaizo}{\url}{http://www.bach-phys.ritsumei.ac.jp/OSXWS/}
\urldef{\webeasypackage}{\url}{http://www.ie.u-ryukyu.ac.jp/darwin2/}
\urldef{\webmacwiki}{\url}{http://macwiki.sourceforge.jp/}
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
%
% \contact#1 for titlepage
\global\let\@contact\@empty
\def\contact#1{\gdef\@contact{#1}}
% \headfont := \gt\sf\bf
\renewcommand*\headfont{\normalfont\sffamily\bfseries}
\renewcommand*\descriptionlabel[1]{\normalfont\headfont #1\hfil}
%
\DeclareRobustCommand*\sbfseries{\fontseries{sbc}\selectfont}
\renewcommand\em%}
  {\@nomath \em \ifdim \fontdimen \@ne \font >\z@ %}
  \mcfamily \upshape \else \gtfamily \itshape \fi
}
% \FUNNIST
\newcommand*\FUNNIST{\textsf{FUNNIST}}
% FUNNIST 編集委員会の正式名称
\newcommand*\funnist{%
\textbf{F}uture \textbf{Un}iversity-Hakodate\space
\textbf{N}etwork and \textbf{I}nformation\space
\textbf{S}ystem \textbf{T}utorial Committee\xspace}
% local color setting
\definecolor{mygray}{gray}{.85}
% indexing
\def\indexname{索引}
\makeindex
%\def\glossaryname{命 令 索 引}
%\makeglossary
\let\glossary\index
% listings setting
\renewcommand*\lstlistlistingname{ソースコード目次}
\renewcommand*\lstlistingname{ソースコード}
\lstset{breaklines=true,columns=[l]{fullflexible},%
   numbers=left,numberstyle={\scriptsize},%
   stepnumber=1,numbersep=1zw,%
   lineskip=-0.5ex,%
   }%
%
% back slash char
\newcommand*\bs{\symbol{'134}}
% Command 
\newcommand*\cmd[1]{\texttt{\bs#1}}
% Command with index entry
\newcommand*\add@com@ind[1]{%
  \@bsphack\begingroup%
  \def\at@mark{@}%
  \let\out@char\@empty
  \@tfor\char@temp:=#1\do{%
     \if\at@mark\char@temp
      \edef\out@char{\out@char"\at@mark}%"
     \else
       \edef\out@char{\out@char\char@temp}%
     \fi}%
  \edef\gloss@hoge{\noexpand\glossary{%
     \out@char\string @\string\hspace*{-1.2ex}\string\texttt{%
	\string\bs\space\out@char}}}%
  \gloss@hoge\endgroup\@esphack
}
\newcommand*\C{\@ifstar{\star@ron@com}{\ron@com}}
\newcommand*\star@ron@com[1]{\add@com@ind{#1}}
\newcommand*\ron@com[1]{\add@com@ind{#1}\texttt{\bs#1}}
%
\newcommand*\bibi[1]{%
  \index{#1@\texttt{#1} (\BibTeX)}\texttt{#1}%
  \index{BibTeX@\BibTeX!#1@\texttt{#1}}%
}
\newcommand*\bubu[1]{%
  \index{#1@\texttt{#1}（文献の種類）}\texttt{#1}%
  \index{ぶんけんのしゅるい@文献の種類!#1@\texttt{#1}}%
}
\newcommand*\latexno[1]{\index{LaTeX@\LaTeX!\zdash #1}}
%
% Environment 
\newcommand*\env[1]{\texttt{#1}}%
% Environment with index entry
\newcommand*\E[1]{%
   \index{環境!#1@\texttt{#1}}%
   \glossary{#1かんきよう@\texttt{#1}環境}%
   \texttt{#1}}%
% old style
\let\Cmd\C%
\let\Env\E%
% word
\newcommand*{\word}[1]{#1}
% word with index entry
\newcommand*\Z[1]{\index{#1}#1}
% \emph は欧文用 \K は和文用
\newcommand*\K[1]{{\sffamily\bfseries#1}}
\newcommand*\KY[1]{\index{#1}\K{#1}}
%
\DeclareRobustCommand*\zdash{
\ifusehyperref
  \texorpdfstring{\@zdash}{―}%
\else
  \@zdash
\fi
}%"
\newcommand\@zdash{\char\jis"213D\kern-.5zw%
   \char\jis"213D\kern-.5zw\char\jis"213D\relax}
%
% ---#2 of #1
\newcommand*\zindind[2]{\index{#1!\zdash#2}}
% #2--- of #1
\newcommand*\indindz[2]{\index{#1!#2\zdash}}
\newcommand*{\prog}{\@ifnextchar[{\yomi@prog}{\@prog}}%]
\newcommand*{\@prog}[1]{#1}
\newcommand*{\yomi@prog}[2][]{#2}
\newcommand*{\Prog}{\@ifnextchar[{\yomi@Prog}{\@Prog}}
\newcommand*{\@Prog}[1]{%
   \index{プログラム!#1}\index{#1}#1}
\newcommand*{\yomi@Prog}[2][]{%
   \index{プログラム!#1@\protect#2}%
   \index{#1@\protect#2}#2}
\newcommand*{\fl}[1]{\texttt{#1}}
\newcommand*{\Fl}[1]{%
   \index{ファイル!#1@\texttt{#1}}%
   \index{#1@\texttt{#1}}\texttt{#1}}
\newcommand*{\cls}[1]{\textsf{#1}}
\newcommand*{\Cls}[1]{%
   \index{クラス!#1@\textsf{#1}}%
   \index{#1@\textsf{#1}}\textsf{#1}}
\newcommand*{\sty}[1]{\textsf{#1}}
\newcommand*{\Sty}[1]{%
   \index{パッケージ!#1@\textsf{#1}}%
   \index{#1@\textsf{#1}}\textsf{#1}}%
\let\Y\Sty
\newcommand*{\bst}[1]{\textsf{#1}}
\newcommand*{\Bst}[1]{%
\index{文献スタイル!#1@\textsf{#1}}%
\index{#1@\textsf{#1}}\textsf{#1}}%
%
% 日本人
\newcommand*{\hito}{\@ifnextchar[{\yomi@hito}{\@hito}}
\newcommand*{\yomi@hito}[2][]{#2氏}
\newcommand*{\@hito}[1]{#1氏}
\newcommand*{\Hito}{\@ifnextchar[{\yomi@Hito}{\@Hito}}
\newcommand*{\yomi@Hito}[2][]{%
\index{人名!#1@\protect{#2}}%
\index{#1@\protect{#2}}#2氏}
\newcommand*{\@Hito}[1]{\index{人名!#1}\index{#1}#1氏}
%
\newcommand*{\kount}[1]{\texttt{#1}}
\newcommand*{\Kount}[1]{%
  \index{#1@\texttt{#1}\pp{カウンタ}}\index{カウンタ!#1@\texttt{#1}}%
  \texttt{#1}}
\newcommand*{\exten}[1]{\texttt{.#1}}
\newcommand*{\Exten}[1]{%
  \index{拡張子!#1@\texttt{\protect\hspace*{-1ex}.#1}}%
  \index{#1@\texttt{\protect\hspace*{-1ex}.#1} (拡張子)}%
  \texttt{.#1}}%
%
\let \person = \Hito
%\DeclareRobustCommand{\person}[2]{#1\index{#2, #1}%
%  \index{人名!#2, #1} #2}
%
%
%\newcommand*{\key}[1]{\texttt{#1}}
\newcommand*{\ka}{{\normalfont\textbar}}
\newcommand*{\kaku}[1]{#1${}^\circ$}
\newcommand*{\va}[1]{{\normalfont$\langle$\mbox{}#1\mbox{}$\rangle$}}
\newcommand*{\av}[1]{{\normalfont$\langle$\mbox{}#1\mbox{}$\rangle$}}
\newcommand*{\Va}[2]{%
   $\langle$\mbox{}{\normalfont\textit{#1}}\mbox{}$\rangle$\exten{#2}}
\newcommand*{\str}[1]{{\normalfont\ttfamily\mdseries\string#1}}
\newcommand*{\pa}[1]{{\ttfamily\string{}\va{#1}{\ttfamily\string}}}%
\newcommand*{\opa}[1]{{\ttfamily[}\va{#1}{\ttfamily]}}%
\newcommand*{\xy}[2]{\string({\itshape#1}\texttt, {\itshape#2}\string)}
%
%
\newcommand*{\option}[1]{\textsl{#1}}
\newcommand*{\Option}[1]{%
  \index{#1@\textsl{#1}}%
  \index{オプション!#1@\textsl{#1}}%
  \textsl{#1}}
\newcommand*{\copt}[1]{\texttt{#1}}
\newcommand*{\qu}[1]{`#1'}
\newcommand*{\qq}[1]{``#1''}
\newcommand*{\yo}[1]{「#1」}
\newcommand*{\yy}[1]{『#1』}
\newcommand*{\pp}[1]{（#1）}
\newcommand*{\wasyo}[1]{『#1』}
\newcommand*{\yousyo}[1]{\emph{#1}}
%
\def\optionlist#1{\@tempcnta=\z@ \@tempcntb=\z@%
 \@for\member:=#1\do{\advance\@tempcnta\@ne}%
 \@for\member:=#1\do{\advance\@tempcntb\@ne%
   \ifnum\@tempcntb<\@tempcnta%
         \textsl{\member}, %
 \else%
  \ifnum\@tempcntb=\@tempcnta%
    \textsl{\member}%
  \fi%
\fi}}%
\def\Optionlist#1{\@tempcnta=\z@ \@tempcntb=\z@
 \@for\member:=#1\do{\advance\@tempcnta\@ne}%
 \@for\member:=#1\do{\advance\@tempcntb\@ne
   \ifnum\@tempcntb<\@tempcnta
   \index{\member @\textsl{\member}}%
   \index{オプション!\member @\textsl{\member}}%
   \textsl{\member}, %
    \else
      \ifnum\@tempcntb=\@tempcnta
   \index{\member @\textsl{\member}}%
   \index{オプション!\member @\textsl{\member}}%
   \textsl{\member}%
   \fi
 \fi}}
\newcommand*{\win}[1]{{%
   \fboxsep0pt\fboxrule0pt\colorbox[gray]{.8}{{[\sffamily#1]}}}}
%
%
\newenvironment{InText}{%
  \list{}{\leftmargin=2zw \rightmargin=0zw}
   \item\small\verbatim}{\endverbatim \endlist}%
%
\newenvironment{OutText}{\unitlength=1pt%
   \begin{screen}}{\end{screen}}
%
\newif\if@TYPE
\def\type{\@ifnextchar[{\@@type}{\@type}}
\def\@hoge{\begingroup \urlstyle{tt}\Url}
\def\@@type[#1]{\if@TYPE\item[{\ttfamily#1}]\fi
   \begingroup \urlstyle{tt}\Url}
\def\@type#1{\if@TYPE \item\@hoge{#1}%
      \else\underline{\@hoge{#1}}\fi}
%
\newenvironment{TYPE}{\@TYPEtrue
   \list{\mbox{\texttt\$}}{%
      \rightmargin=0pt
      \itemsep=-.5ex 
      \parsep=-.5ex}}%
   {\endlist \@TYPEfalse}
%
\ifdraft
\newenvironment{OutTerm}{%
   \list{}{\leftmargin=1.5zw \rightmargin=1.5zw}
   \item\small\verbatim}{\endverbatim \endlist}%
\else
\lstnewenvironment{OutTerm}{%
  \lstset{%
    columns=[l]{fullflexible},
    basicstyle={\small\ttfamily},%
    identifierstyle={\small},%
    commentstyle={\small},%
    keywordstyle={\small\bfseries},%
    ndkeywordstyle={\small},%
    numbers=none,%
    formfeed=\linebreak,%
    frameshape={yny}{}{}{yny},
    xrightmargin=1.5zw,%
    xleftmargin=1.5zw,%
    }}{}%
\fi%
\newenvironment{Syntax}%
  {\bgroup \parindent=0pt%
    \par\addvspace{1ex plus 0.8ex minus 0.5ex}%
    \vskip-\parskip\begin{Sbox}%
    \begin{minipage}{\ftextwidth}}%
  {\end{minipage}\end{Sbox}\fbox{\TheSbox}%\IOlabel%
    \par\addvspace{1ex plus 0.8ex minus 0.5ex}%
    \vskip-\parskip\egroup\par\noindent}%
%
\newcommand*{\pref}[1]{\pageref{#1}~ページ}
\newcommand*{\chapref}[1]{\ref{#1}~章}
\newcommand*{\secref}[1]{\ref{#1}~節}
\newcommand*{\fullref}[1]{\pref{#1}\secref{#1}~参照}
\newcommand*{\figref}[1]{\figurename~\ref{#1}}
\newcommand*{\tabref}[1]{\tablename~\ref{#1}}
\def\eqref#1{式~(\ref{#1})}
%
\DeclareRobustCommand*{\Xy}{\leavevmode%
   \hbox{\kern-.1em X\kern-.3em\lower.4ex\hbox{Y\kern-.15em}}\xspace}
\newcommand*{\PIC}{PIC\xspace}
\newcommand*{\Tpic}{{\normalfont\textsc{Tpic}}\xspace}
\DeclareRobustCommand*{\JLaTeXe}{\leavevmode%
   \lower.5ex\hbox{\rm J}\kern-.1em\LaTeXe\xspace}
\DeclareRobustCommand*{\XyMTeX}{%
   X\kern-.3em\smash{\raise.5ex\hbox{$\m@th\Upsilon$}}%
   \kern-.3em{M}\kern-0.1em\TeX\xspace}
\DeclareRobustCommand*{\eTeX}{$\m@th\varepsilon$-\TeX\xspace}
\DeclareRobustCommand*{\eLaTeX}{$\m@th\varepsilon$-\LaTeX\xspace}
\def\NTS{\leavevmode\hbox{$\cal N\kern-0.35em\lower0.5ex\hbox{$\cal T$}%
  \kern-0.2emS$}\xspace}
\def\AmSTeX{\AmS\raise.2ex\hbox{-}\TeX\xspace}
\def\AmSLaTeX{\AmS\raise.2ex\hbox{-}\LaTeX\xspace}
\DeclareRobustCommand*{\dvipdfm}{Dvipdfm\xspace}
\DeclareRobustCommand*{\dvipdfmx}{\dvipdfm{\rmfamily\itshape x}\xspace}
\DeclareRobustCommand*{\LMANUAL}{文書処理システム{\LaTeXe}}
\DeclareRobustCommand*{\COMP}{{\LaTeX}コンパニオン}
\DeclareRobustCommand*{\GCOMP}{{\LaTeX}グラフィックスコンパニオン}
\DeclareRobustCommand*{\WCOMP}{{\LaTeX} Webコンパニオン}
\DeclareRobustCommand*{\TEXBOOK}{\TeX book\xspace}% 原著
\DeclareRobustCommand*{\METAFONTBOOK}{\MF ブック} % 訳著
\DeclareRobustCommand*{\ANOTHERMANUAL}{Another Manual\xspace}
\newcommand*{\PS}{PostScript\xspace}
\newcommand*{\IM}{ImageMagick\xspace}
\newcommand*{\EPSconv}{EPS-Conv\xspace}
\newcommand*{\GS}{Ghostscript\xspace}
\newcommand*{\BB}{BoundingBox\xspace}
\newcommand*{\kterm}{kterm\xspace}
\newcommand*{\TtH}{TtH\xspace}
\newcommand*{\laTEX}{\TeX/\LaTeX\xspace}
\newcommand*{\m}[1]{$#1$&\texttt{\string#1}}
\newcommand*{\M}[1]{%
   \glossary{#1@\hspace*{-1.2ex}\texttt{\protect\bs#1}%
\hskip1em($\protect\csname #1\endcsname$)}%
   $\csname #1\endcsname$&\texttt{\bs#1}}
\newcommand*{\BM}[1]{%
   \glossary{#1@\hspace*{-1.2ex}\texttt{\protect\bs#1}%
\hskip1em($\protect\csname #1\endcsname$)}%
   \texttt{\bs#1}}
\newcommand*{\T}[1]{%
   \glossary{#1@\hspace*{-1.2ex}\texttt{\protect\bs\string#1}%
\hskip1em(\csname#1\endcsname)}%
   \csname#1\endcsname&\texttt{\bs\string#1}}
\newcommand*{\KM}{記号&命令}
\newcommand*{\A}[1]{%
   \glossary{#1@\hspace*{-1.2ex}\texttt{\protect\bs#1}%
      \hskip1em(\csname#1\endcsname)}%
   \csname#1\endcsname&\texttt{\bs#1}}
\newcommand*{\B}[2]{%
   \glossary{#1@\hspace*{-1.2ex}\texttt{\protect\bs#1}%
      \hskip1em(\csname#1\endcsname{#2}\relax)}%
   \csname#1\endcsname{#2}&%
    \texttt{\protect\bs\string#1\string{#2\string}}}
\newcommand*{\W}[2]{%
  \glossary{#1@\hspace*{-1.2ex}\texttt{\bs#1}%
    \hskip1em($\csname#1\endcsname{#2}$)}%
  $\csname#1\endcsname{#2}$ & %
  \texttt{\bs#1\string{#2\string}}}%
\newcommand*{\demowidth}[1]{%
   \rule{0.3pt}{1.3ex}\rule{#1}{0.3pt}\rule{0.3pt}{1.3ex}}
%
%
\ifusehyperref
\usepackage[dvipdfm,%
  bookmarks=true,%
  bookmarkstype=toc,%
  bookmarksnumbered=false,%
  bookmarksopen=true,%
  colorlinks=true,%
  linkcolor=blue,%
  citecolor=blue,%
  filecolor=blue,%
  menucolor=magenta,%
  pagecolor=blue,%
  urlcolor=blue,%
  plainpages=false%
]{hyperref}
%implicit=false]{hyperref}
\special{pdf:docinfo <<
  /Author   ( FUNNIST )
  /Title    ( How to write your own thesis tutorial with LaTeX2e )
  /Subject  ( For thesis writers  )
  /Creator  ( dvipdfmx with hyperref packages )
  /Keywords ( TeX, LaTeX, LaTeX2e, pTeX, pLaTeX, pLaTeX2e, FUNNIST, thesis)
  >>}
\fi
%
%
\theoremheaderfont{\normalfont\headfont}
{\theoremstyle{plain}
   \theorembodyfont{\normalfont\rmfamily}
   \newtheorem{Prob}{{\manfnt \char'170}問題}[chapter]}
{\theoremstyle{plain}
   \theorembodyfont{\normalfont\rmfamily}
   \newtheorem{Exe}[Prob]{$\triangleright$例題}}
%
\ifusehyperref
\AtBeginDocument{%
  \def\theHProb{\theHchapter.\arabic{Prob}}%
  \def\theHExe{\theHchapter.\arabic{Prob}}%
  \def\theHItem{\theHchapter.\arabic{Item}}%
}
\fi
%
\newcommand{\kasane}[2]{{\ooalign{#1\crcr\hss#2\hss}}}
\newcommand{\dos}[1]{%
   \colorbox{black}{\color{white}{%
   \small\normalfont\ttfamily #1\hfil}}}
\newcommand{\dosh}[1]{%
   \noindent\colorbox{black}{%
   \hbox to \ftextwidth{\color{white}{%
   \small\normalfont\ttfamily #1\hfil}}}}
%
%
\newlength{\IOm}
\setlength{\IOm}{\textwidth}
\addtolength{\IOm}{-\fullwidth}
%
\newcounter{IOcnt}
%
\newwrite\example@out
%
\newcommand{\IOmargin}{%
  \stepcounter{IOcnt}%
  \expandafter\ifx\csname r@exa:\theIOcnt\endcsname\relax\else%
    \ifusehyperref%
      \ifodd\HyPsd@pageref{exa:\theIOcnt}\hspace*{0pt}%
         \else\hspace*{\IOm}\fi%
    \else%
      \ifodd\pageref{exa:\theIOcnt}\hspace*{0pt}%
         \else\hspace*{\IOm}\fi\fi\fi}%
%
\newcommand{\IOlabel}{\label{exa:\theIOcnt}}
%
\newenvironment{InOut}{\begingroup\@bsphack%
       \immediate\openout\example@out\jobname.exa%
       \let\do\@makeother\dospecials \catcode`\^^M\active%
       \def\verbatim@processline{%
          \immediate\write\example@out{\the\verbatim@line}}%
          \verbatim@start}{\immediate\closeout\example@out\@esphack\endgroup%
   \stepcounter{IOcnt}% 
   \setlength{\parindent}{0pt}%
   \par\addvspace{3.0ex plus 0.8ex minus 0.5ex}\vskip-\parskip%
   \expandafter\ifx\csname r@exa:\theIOcnt\endcsname\relax\else%
   \ifusehyperref%
     \ifodd\HyPsd@pageref{exa:\theIOcnt}\hspace*{0pt}%
     \else\hspace*{\IOm}\fi%
   \else\ifodd\pageref{exa:\theIOcnt}\hspace*{0pt}%
     \else\hspace*{\IOm}\fi%
   \fi\fi%
   \makebox[0pt][l]{%
   {\begin{minipage}[c]{.47\fullwidth}%
      \small\verbatiminput{\jobname.exa}%
   \end{minipage}}%
   \hspace{0.05\fullwidth}%
   {\begin{minipage}{.47\fullwidth}%
      \begin{trivlist}\item\small\input{\jobname.exa}%
      \end{trivlist}%
   \end{minipage}}%
   }\label{exa:\theIOcnt}%
   \par\addvspace{3.0ex plus 0.8ex minus 0.5ex}\vskip-\parskip}%

% \image[<options>]{<filename>}{<caption>}{<label>}
\newcommand{\image}[4][]{%
\begin{figure}[htbp]
 \begin{center}
   \includegraphics[#1]{images/#2}
   \caption{#3}\label{fig:#4}
 \end{center}
\end{figure}}
%
%\newenvironment{ftable}[1][htbp]%
%  {\begin{table}[#1]
%   \begin{Sbox}\begin{minipage}{%
%  (\linewidth-2\fboxrule-2\fboxsep)}}%
%  {\end{minipage}\end{Sbox}\fbox{\TheSbox}\end{table}}
%
%
\def\unixos{Unix系OS}
\newcommand*\dviout{Dviout\xspace}
\DeclareRobustCommand*{\pdfTeX}{PDF\TeX\xspace}
\DeclareRobustCommand*{\pdfeTeX}{PDF\eTeX\xspace}
\DeclareRobustCommand*{\pdfLaTeX}{PDF\LaTeX\xspace}
\DeclareRobustCommand*{\pdfeLaTeX}{PDF\eLaTeX\xspace}
\DeclareRobustCommand*{\Context}{Con{\TeX}t\xspace}
\DeclareRobustCommand*{\texinfo}{texinfo\xspace}
\DeclareRobustCommand*{\txfonts}{\texttt{TX}\textsf{fonts}\xspace}
\newcommand*{\joukuten}{。}
\newcommand*{\joutouten}{、}
%
% toc depth
%
\setlength  \topmargin {0pt}
\addtolength\topmargin {-\headheight}
\addtolength\topmargin {-\headsep}
\addtolength\topmargin {-\baselineskip}
\addtolength\textheight{\headheight}
\addtolength\textheight{\headsep}
\addtolength\textheight{\baselineskip}
%\addtolength\textheight{2\baselineskip}%うーん
\setlength  \footskip  {\baselineskip}
\addtolength\footskip  {.5\headsep}
%
% \ftextwidth %%%%%%%%%%
\newlength{\ftextwidth}
\setlength{\ftextwidth}{\textwidth}
\addtolength{\ftextwidth}{-2\fboxsep}
\addtolength{\ftextwidth}{-2\fboxrule}
% \ffullwidth %%%%%%%%%%
\newlength{\ffullwidth}
\setlength{\ffullwidth}{\fullwidth}
\addtolength{\ffullwidth}{-2\fboxsep}
\addtolength{\ffullwidth}{-2\fboxrule}
%
% Font-shape Declaration  %%%%%%%%%%
%\DeclareFontShape{JY1}{mc}{m}{n}{<-> s * jis}{}%  0.962:10
%\DeclareFontShape{JY1}{gt}{m}{n}{<-> s * jisg}{}% 0.962:10
\DeclareFontShape{JY1}{gt}{m} {sc}{<->ssub*gt/m/n}{}
\DeclareFontShape{JT1}{gt}{m} {sc}{<->ssub*gt/m/n}{}
\DeclareFontShape{JY1}{gt}{bx}{it}{<->ssub*gt/m/n}{}
\DeclareFontShape{JT1}{gt}{bx}{it}{<->ssub*gt/m/n}{}
\DeclareFontShape{JT1}{gt}{bx}{sl}{<->ssub*gt/m/n}{}
\DeclareFontShape{JY1}{gt}{bx}{sl}{<->ssub*gt/m/n}{}
\DeclareFontShape{JY1}{mc}{m} {ui}{<->ssub*mc/m/n}{}
\DeclareFontShape{JT1}{mc}{m} {ui}{<->ssub*mc/m/n}{}
%
% Thumb-index Definitions %%%%%%%%%%
% \rtume -> 奇数ページ（右）小口に表示されるつめ掛け
%
\newcommand{\rtume}{%
\iftume
 \setlength{\unitlength}{1truecm}%
 \begin{picture}(0,0)%
   \put(0.5,-\value{chapter}){%
      {\color{black}\rule[-.2\unitlength]%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
       {1.75\unitlength}% 裁ちしろは1.45 + x mm (3mm 標準->1.75)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
       {\unitlength}}}%
   \put(0.8,-\value{chapter}){\makebox(0,.5)[l]{%
      {\color{white}\large\headfont\thechapter}}}%
 \end{picture}\else\relax\fi}%
%
\newcommand\page@back{%
   \setlength\unitlength{1truecm}%
   \begin{picture}(0,0)%
      \put(0,-.3){%
         \makebox(0,0)[lb]{\color{mygray}\rule{2em}%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           {1.98\unitlength}}% 1.68 + x mm (3mm default->1.98)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
      }%
   \end{picture}}%
%
\def\@header@font{\sffamily}
% \ps@myhead -> \pagestyle{myhead}
\def\ps@myhead{%
  \let\@evenfoot\@empty
  \let\@oddfoot\@empty
  \def\@evenhead{% Even Head
    \if@mparswitch\hss\fi
    \underline{\hbox to\fullwidth{\autoxspacing\page@back
        \hbox to 2em{\hfil\textbf{\thepage}\hfil}\hskip\fboxsep%
        \hskip1zw{\@header@font\leftmark}\hfill}}%
    \if@mparswitch\else\hss\fi}%
  \def\@oddhead{% Odd Head
     \underline{%
        \hbox to\fullwidth{\autoxspacing\hfill
          {\if@twoside{\@header@font\rightmark}\else{\@header@font\leftmark}\fi}\hskip1zw%
           \hskip\fboxsep\page@back
           \hbox to 2em{\hfil\textbf{\thepage}\hfil}%
        }%
     }{\rtume}\hss}%
  \let\@mkboth\markboth
  \def\chaptermark##1{\markboth{% chaptermark
    \ifnum \c@secnumdepth >\m@ne
      \if@mainmatter
        \@chapapp\thechapter\@chappos\hskip1zw
      \fi
    \fi
    ##1}{}}%
  \def\sectionmark##1{\markright{% sectionmark
    \ifnum \c@secnumdepth >\z@ \thesection \hskip1zw\fi
    ##1}}%
}
% redefine of plainhead page-sytle
% 章見出し用のつめ掛けありのスタイル
\def\ps@plainhead{%
  \let\@mkboth\@gobbletwo
  \def\@oddhead{\hbox to\fullwidth{%
       \autoxspacing\hfill\page@back
       \hbox to 2em{\hfil\textbf{\thepage}\hfil}%
       \rtume}\hss}%
  \let\@evenhead\@empty
  \let\@oddfoot\@empty
  \let\@evenfoot\@empty
}
%  \def\@evenfoot{%
%    \if@mparswitch \hss \fi
%    \hbox to \fullwidth{\textbf{\thepage}\hfil}%
%    \if@mparswitch\else \hss \fi}%
%  \def\@oddfoot{%
%    \hbox to \fullwidth{\hfil\textbf{\thepage}}\hss}}
%
% \pagestyle{plain} := \pagestyle{plainhead}
\let\ps@plain\ps@plainhead
%
\newcommand\visi{\begingroup\urlstyle{tt}\Url}
\newcommand*\lba{\texttt{\char'173}}%'
\newcommand*\rba{\texttt{\char'175}}%'
\newenvironment{VISI}%
  {\bgroup\color[gray]{.75}}%
  {\egroup\par\vskip1zw}%
% \maketitle -> 表紙
\def\maketitle{\@maketitle\let\@maketitle\@empty}
\long\def\@maketitle{%
\begin{titlepage}%
   \parindent=\z@
   \let\footnotesize\small
   \let\footnoterule\relax
   \let\footnote\thanks
   \null\vskip 2\Cvs
   {\Huge\headfont\@title}%
   \begin{sffamily}%
   \par\vskip\fboxsep
   \hrule height 1ex
   \par\vskip\tw@\fboxsep
   {\large\@date}\qquad {\large 改訂 第 3 版}%
   \par\vskip\Cvs\vfill
   \hb@xt@\fullwidth{%
      \includegraphics*{images/mytitle}\hss}%
   \ifx\@contact\@empty\@thanks\vfill\null
   \else\vfill\begin{large}\@contact
   \par\vskip 1\Cvs
   {監修：渡辺徹}\end{large}%
   \end{sffamily}%
   \par\vskip 2\Cvs\fi
\end{titlepage}%
%
% page ii
\setcounter{footnote}{0}%
\thispagestyle{empty}
\vspace*{\fill}
{\hfil Copyright {\copyright} 2003, 2004, 2006 \@author\hfil}\\
{\hfil Copyright {\copyright} 2003, 2004, 2005, 2006 渡辺徹\hfil}
% 使用条件
\begin{quotation}
\zindind{GNU}{フリー文書利用許諾契約書}%
\zindind{GNU}{Free Documentation License}%
この文書を\Z{フリーソフトウェア財団}発行の『GNUフリー文書利用許諾
契約書』（バージョン1.1かそれ以降から一つを選択）が定める条件
の下で複製，頒布，あるいは改変することを許可する．変更不可
部分，表カバーテキスト，裏カバーテキストは指定しない．この\Z{利用
許諾契約書}の複製物は\emph{{GNU Free Documentation License}}という
章\pp{付録~\ref{label:fdl}}に含まれている。日本語訳『GNUフリー
文書利用許諾契約書』は非公式なものであり法的有効性はないが，
\begin{quote}
  \fdlja
\end{quote}
で参照可能である．
\end{quotation}
% 商標
\begin{quotation}
本冊子に記載されている企業，団体の名前や製品名等は
それぞれの権利帰属者の商標または商標登録であり所有物です．
本冊子では {\texttrademark} 及び {\textregistered} は明記し
ていません．
\end{quotation}%
}%
%
\setcounter{tocdepth}{2}%
%
% contents style
\renewcommand{\tableofcontents}{%
  \if@twocolumn
    \@restonecoltrue\onecolumn
  \else
    \@restonecolfalse
  \fi
  \chapter*{\contentsname%
 	\@mkboth{\contentsname}{\contentsname}%
  	\@ifundefined{ifusehyperref}{}%
  	\ifusehyperref{\pdfbookmark{\contentsname}{contents}}\fi%
  	}%
  \@starttoc{toc}%
  \if@restonecol\twocolumn\fi
}
%
% theglossary environment
\newenvironment{theglossary}{% 命令索引を3段組で出力する環境
    \if@twocolumn
      \onecolumn\@restonecolfalse
    \else
      \clearpage\@restonecoltrue
    \fi
    \columnseprule.4pt \columnsep 2zw
    \ifx\multicols\@undefined
      \twocolumn[\@makeschapterhead{\glossaryname}%
      \addcontentsline{toc}{chapter}{\glossaryname}%
      ]%
    \else
      \ifdim\textwidth<\fullwidth
        \setlength{\evensidemargin}{\oddsidemargin}
        \setlength{\textwidth}{\fullwidth}
        \setlength{\linewidth}{\fullwidth}
        \begin{multicols}{3}[\chapter*{\glossaryname}%
        \addcontentsline{toc}{chapter}{\glossaryname}%
        ]%
      \else
        \begin{multicols}{2}[\chapter*{\glossaryname}%
        \addcontentsline{toc}{chapter}{\glossaryname}%
        ]%
      \fi
    \fi
    \@mkboth{\glossaryname}{\glossaryname}%
    \plainifnotempty % \thispagestyle{plain}
    \parindent\z@
    \parskip\z@ \@plus .3\p@\relax
    \let\item\@idxitem
    \raggedright
    \footnotesize\narrowbaselines
  }{
    \ifx\multicols\@undefined
      \if@restonecol\onecolumn\fi
    \else
      \end{multicols}
    \fi
    \clearpage
  }%
%
% chapter#1 style
\def\@makechapterhead#1{%
  \vspace*{2\Cvs}% 
  {\parindent \z@ \raggedright \normalfont
    \ifnum \c@secnumdepth >\m@ne
      \if@mainmatter
	\hb@xt@\fullwidth{\hfill%
          \Huge\headfont\@chapapp\thechapter\@chappos}%
        \par\nobreak
	\vskip\Cvs %
      \fi
    \fi
    \interlinepenalty\@M
    \hbox to \fullwidth{\hfill\Huge\headfont#1}
    \par\nobreak\vskip\fboxsep
    \hrule height 1ex
    \par\vskip2\Cvs}}%
%
% \chapter*#1 style
% 星付き章見出しの変更
\def\@makeschapterhead#1{%
  \vspace*{2\Cvs}% 欧文は50pt
  {\parindent \z@ \raggedright
    \normalfont
    \interlinepenalty\@M
    \hb@xt@\fullwidth{\hfill\Huge \headfont #1}\par\nobreak\vskip\fboxsep
    \hrule height 1ex
    \par\vskip2\Cvs}}% 欧文は40pt
%
% abstract 環境の変更
\renewenvironment{abstract}{%
  \thispagestyle{plainhead}%
  \begin{list}{}{%
    \linewidth=\fullwidth
    \sffamily
    \listparindent=1zw
    \itemindent=\listparindent
    \leftmargin=.3\textwidth
    \rightmargin=0pt
    }\item[]}{\end{list}}%
%
\newenvironment{myquotation}{%
  \list{}{%
    \listparindent\parindent
    \itemindent\listparindent
    \rightmargin=\leftmargin}%
  \item\relax}{\endlist}
%
% \pagestyle := myhead
\pagestyle{myhead}
%
% \section style
\def\@sect#1#2#3#4#5#6[#7]#8{%
  \ifnum #2>\c@secnumdepth
    \let\@svsec\@empty
  \else
    \refstepcounter{#1}%
    \protected@edef\@svsec{\@seccntformat{#1}\relax}%
  \fi
  \@tempskipa #5\relax
  \ifdim \@tempskipa<\z@
    \def\@svsechd{%
      #6{\hskip #3\relax
      \@svsec #8}%
      \csname #1mark\endcsname{#7}%
      \addcontentsline{toc}{#1}{%
        \ifnum #2>\c@secnumdepth \else
          \protect\numberline{\csname the#1\endcsname}%
        \fi
        #7}}% 目次にフルネームを載せるなら #8
  \else
    \begingroup
      \interlinepenalty \@M % 下から移動
%%%%%%
    \ifnum #2=\@ne
      \colorbox{mygray}{%
        \hb@xt@\ftextwidth{#6{\@hangfrom{\@svsec}#8}%
          \hfil}%
	}\@@par%
    \else
        \ifnum #2=\tw@
           {\large$\blacktriangledown$\hskip3pt}%
           #6{\@hangfrom{\hskip #3\relax\@svsec}%
              \relax#8\@@par}%
        \else
           #6{\@hangfrom{\hskip #3\relax\@svsec}#8\@@par}%
        \fi
    \fi
    \endgroup
%%%%%
    \csname #1mark\endcsname{#7}%
    \addcontentsline{toc}{#1}{%
      \ifnum #2>\c@secnumdepth \else
        \protect\numberline{\csname the#1\endcsname}%
      \fi
      #7}% 目次にフルネームを載せるならここは #8
  \fi
  \@xsect{#5}}
\def\@xsect#1{%
  \@tempskipa #1\relax
  \ifdim \@tempskipa<\z@
    \@nobreakfalse
    \global\@noskipsectrue
    \everypar{%
      \if@noskipsec
        \global\@noskipsecfalse
       {\setbox\z@\lastbox}%
        \clubpenalty\@M
        \begingroup \@svsechd \endgroup
        \unskip
        \@tempskipa #1\relax
        \hskip -\@tempskipa
      \else
        \clubpenalty \@clubpenalty
        \everypar{\everyparhook}%
      \fi\everyparhook}%
  \else
    \par \nobreak
    \vskip \@tempskipa
    \@afterheading
  \fi
  \par  % 2000-12-18
  \ignorespaces}
\def\@ssect#1#2#3#4#5{%
  \@tempskipa #3\relax
  \ifdim \@tempskipa<\z@
    \def\@svsechd{#4{\hskip #1\relax #5}}%
  \else
    \begingroup
      #4{%
        \@hangfrom{\hskip #1}%
          \interlinepenalty \@M #5\@@par}%
    \endgroup
  \fi
  \@xsect{#3}}
%
% \URL command for bibliography environment
\newfont{\manfnt}{manfnt}
\newfont{\knuthlogo}{logo10}
\newcommand*\sanko{\par\bgroup{\manfnt \char'170} \egroup\space}
% old \sanko style
\let\URL\sanko
% three em-dash for bibliography environment
\DeclareRobustCommand*\iiiemdash{%
  ---\kern-.5em---\kern-.5em---\kern-.5em---\kern-.5em---}
%
\newcommand*\key{\thinspace\@key}%
\def\@key#1{\@tempcnta=\z@%
 \@for\member:=#1\do{%
   \ifnum\@tempcnta<1%
      \keytop{\member}%
   \else%
      \texttt{+}\keytop{\member}%
   \fi%
   \advance\@tempcnta\@ne}%
 \thinspace}%

%
% draftオプションが有効のときだけの処理する内容
%\newcommand*\DraftFinal[2]{\ifdraft #1\else #2\fi}
\renewenvironment{theindex}{% 索引を3段組で出力する環境
    \if@twocolumn
      \onecolumn\@restonecolfalse
    \else
      \clearpage\@restonecoltrue
    \fi
    \columnseprule.4pt \columnsep 2zw
    \ifx\multicols\@undefined
      \twocolumn[\@makeschapterhead{\indexname}%
        \addcontentsline{toc}{chapter}{\indexname}]%
    \else
      \ifdim\textwidth<\fullwidth
        \setlength{\evensidemargin}{\oddsidemargin}
        \setlength{\textwidth}{\fullwidth}
        \setlength{\linewidth}{\fullwidth}
        \begin{multicols}{3}[\chapter*{\indexname}%
        \addcontentsline{toc}{chapter}{\indexname}]%
      \else
        \begin{multicols}{2}[\chapter*{\indexname}%
        \addcontentsline{toc}{chapter}{\indexname}]%
      \fi
    \fi
    \@mkboth{\indexname}{\indexname}%
    \plainifnotempty % \thispagestyle{plain}
    \parindent\z@
    \parskip\z@ \@plus .3\p@\relax
    \let\item\@idxitem
    \raggedright
    \small\narrowbaselines\normalfont
  }{
    \ifx\multicols\@undefined
      \if@restonecol\onecolumn\fi
    \else
      \end{multicols}
    \fi
    \clearpage
  }
%%
%
\renewenvironment{thebibliography}[1]{%
  \global\let\presectionname\relax
  \global\let\postsectionname\relax
  \chapter*{\bibname\@mkboth{\bibname}{\bibname}}%
      \addcontentsline{toc}{chapter}{\bibname}%
   \list{\@biblabel{\@arabic\c@enumiv}}%
        {\settowidth\labelwidth{\@biblabel{#1}}%
         \leftmargin\labelwidth
         \advance\leftmargin\labelsep
         \@openbib@code
         \usecounter{enumiv}%
         \let\p@enumiv\@empty
         \renewcommand\theenumiv{\@arabic\c@enumiv}}%
   \sloppy
   \clubpenalty4000
   \@clubpenalty\clubpenalty
   \widowpenalty4000%
   \sfcode`\.\@m}
  {\def\@noitemerr
    {\@latex@warning{Empty `thebibliography' environment}}%
   \endlist}
%
%
%
\renewcommand{\l@chapter}[2]{%
  \ifnum \c@tocdepth >\m@ne
    \addpenalty{-\@highpenalty}%
    \addvspace{1.0em \@plus\p@}
    \begingroup
      \parindent\z@
      \rightskip\@tocrmarg
      \parfillskip-\rightskip
      \leavevmode \large \sffamily
      \@lnumwidth = 4.683zw\relax
      \advance\leftskip\@lnumwidth \hskip-\leftskip
      \hb@xt@\z@{\color{mygray}\vrule\@height 1em \@width 3pt \@depth1ex\hss}%
      \hskip 6pt #1\nobreak\hfill\nobreak\hb@xt@\@pnumwidth{\hss#2}\par
        {\color{mygray}\hrule\@width\linewidth \@height 3pt}\par\nobreak\vskip6pt
      \penalty\@highpenalty
    \endgroup
  \fi}
%
\renewcommand*{\l@figure}{\@dottedtocline{1}{1zw}{3.683zw}}
%
\renewcommand{\tableofcontents}{%
  \if@twocolumn
    \@restonecoltrue\onecolumn
  \else
    \@restonecolfalse
  \fi
  \chapter*{\contentsname}%
  \@mkboth{\contentsname}{\contentsname}%
  \@starttoc{toc}%
  \if@restonecol\twocolumn\fi
}
\renewcommand{\listoffigures}{%
  \if@twocolumn\@restonecoltrue\onecolumn
  \else\@restonecolfalse\fi
  \section*{\listfigurename
  \@mkboth{\listfigurename}{\listfigurename}}%
  \@starttoc{lof}%
  \if@restonecol\twocolumn\fi
}
\renewcommand{\listoftables}{%
  \if@twocolumn\@restonecoltrue\onecolumn
  \else\@restonecolfalse\fi
  \section*{\listtablename
  \@mkboth{\listtablename}{\listtablename}}%
  \@starttoc{lot}%
  \if@restonecol\twocolumn\fi
}
%
\renewcommand\frontmatter{%
  \if@openright
    \cleardoublepage
  \else
    \clearpage
  \fi
  \@mainmatterfalse
  \pagenumbering{roman}%
  \tumefalse}
\renewcommand\mainmatter{%
    \cleardoublepage
  \@mainmattertrue
  \pagenumbering{arabic}%
  \tumetrue}
\renewcommand\backmatter{%
  \if@openright
    \cleardoublepage
  \else
    \clearpage
  \fi
  \@mainmatterfalse
  \tumefalse}
%
\let \secHeadfont = \headfont
%\renewcommand \secHeadfont {\normalfont\sffamily\sbfseries}
\renewcommand{\section}{\@startsection{section}{1}{\z@}%
    {\Cvs \@plus.5\Cdp \@minus.2\Cdp}% 前アキ
    {.5\Cvs \@plus.3\Cdp}% 後アキ
    {\Large\secHeadfont\raggedright}}
\renewcommand{\subsection}{\@startsection{subsection}{2}{\z@}%
    {\Cvs \@plus.5\Cdp \@minus.2\Cdp}% 前アキ
    {.5\Cvs \@plus.3\Cdp}% 後アキ
    {\large\secHeadfont}}
\renewcommand{\subsubsection}{\@startsection{subsubsection}{3}{\z@}%
    {\Cvs \@plus.5\Cdp \@minus.2\Cdp}%
    {\z@}%
    {\normalsize\secHeadfont}}
\renewcommand{\paragraph}{\@startsection{paragraph}{4}{\z@}%
    {0.5\Cvs \@plus.5\Cdp \@minus.2\Cdp}%
    {-1zw}% 改行せず 1zw のアキ
    {\normalsize\secHeadfont}}
\renewcommand{\subparagraph}{\@startsection{subparagraph}{5}{\z@}%
   {\z@}{-1zw}%
   {\normalsize\secHeadfont}}
%
\def\<#1>{{\sffamily#1}}
\newcommand*\TR{\toprule}
\newcommand*\MR{\midrule}
\newcommand*\BR{\bottomrule}
%\newcommand*\Trule{\toprule\headfont}
%\newcommand*\Mrule{\midrule\normalfont}
%\newcommand*\Brule{\bottomrule}
%
\long\def\@makecaption#1#2{{\small\sffamily
  \advance\leftskip1cm
  \advance\rightskip1cm
  \vskip\abovecaptionskip
  \sbox\@tempboxa{#1\hskip1zw\relax #2}%
  \ifdim \wd\@tempboxa <\hsize \centering \fi
  #1\hskip1zw\relax #2\par
  \vskip\belowcaptionskip}}
%
\def\mycleardblpageimage{\vfill
   \begin{flushright}%
      \includegraphics[scale=.4]{images/gnu-head}%
   \end{flushright}%
}%
\def\cleardoublepage{%
   \clearpage
   \if@twoside
      \ifodd \c@page
         \iftdir \null \thispagestyle{empty}%
           \mycleardblpageimage \newpage
            \if@twocolumn
               \null \newpage
            \fi
         \fi
      \else
 \ifydir \null \thispagestyle{empty}%
            \mycleardblpageimage \newpage
            \if@twocolumn
               \null \newpage
            \fi
         \fi
      \fi
   \fi
}
%
\newcommand*\ttlb{\texttt{\@charlb}}
\newcommand*\ttrb{\texttt{\@charrb}}
\newcommand*\ttlrb[1]{\ttlb\mbox{}#1\mbox{}\ttrb}
%
\newcommand\genzai{2006年2月現在}
%
\newcommand*\XeTeX{\leavevmode
  \setbox0=\hbox{X\lower.5ex\hbox{\kern-.15em
  \reflectbox{E}}\kern-.1667em \TeX}%
  \dp0=0pt\ht0=0pt\box0
}
%
\newenvironment{samplecode}{\begin{quote}\begin{small}\begin{ttfamily}}%
{\end{ttfamily}\end{small}\end{quote}}
%
\endinput

