%#!platex ron.tex
\chapter{論文のサンプル}
\begin{abstract}
今まで様々な情報を提供してきましたが，実際に自分で論文の書式を
書き起こすのは大変かもしれません．そこでこの章では卒業研究など
で提出する概要レポート，いわゆる中間報告と卒業研究で最終的に提
出する卒業論文の例を示します．

学位論文などの書式である文書クラスは大学や学会などから指定され
ます．当大学の場合は\texttt{funthesis.cls}というファイル名
で卒業論文のウェブページにて配布されているものと思います．学会な
ども同様に独自のクラスファイルを配布していますので，その書式に
合わせて書きます．
\end{abstract}

\section{中間報告のサンプル}
中間報告は当大学の規定で，2ページ程度にまとめることになって
います．この場合，題名，概要，参考文献，図表などを要領よ
く整理することが重要になります．そのため中間報告では\Z{2段組}にす
るにが良いでしょう．2段組にすると以下のような利点があります．
\begin{itemize}
\item 1段組よりも適切な文字数で改行される．
\item 図を取り込むときに \cmd{columnwidth} を使える．
\item 文章量を多くする事ができる．
\end{itemize}
%この2段組は概要のレポートに使うのが良いことになります．

中間報告のサンプルソースファイルと出力結果をご覧ください．
このサンプルに使っている文書クラスは\hito{奥村晴彦}の
\Cls{jsarticle}です．サンプルのソースファイル中には注意事
項なども書いていますので参考にしてください．

\cls{jsarticle}を使わずに\Cls{article}や\Cls{jarticle}を
使わなければならないならば，概要については表題の下に1段組で
出力するでしょうから\Sty{abstract}パッケージを使ってみて
ください．\sty{abstract}では \Cmd{twocolumn}命令の任意引数
の中で \Cmd{onecolabstract}命令を使います．
\begin{InText}
\twocolumn[{\maketitle
\begin{onecolabstract}
概要部分
\end{onecolabstract}}] 
\end{InText}

\cls{jsarticle}を使ったソースファイルの例です．

\begin{InText}
\documentclass[twocolumn,papersize,dvipdfmx]{jsarticle}
\columnseprule 0.5pt% 段間の罫線
\usepackage{type1cm,epic,eepic,amssymb,amsmath,graphicx,url}
\title{2段組での中間報告のサンプル}
\author{{\small システム情報科学部 情報アーキテクチャ学科}\\
   m1201234 函館 花子 \\ 指導教員 未来 太郎}
\begin{document}% 本文開始
\begin{abstract}% 概要
論文作成においては\LaTeX{}を使用するのが望ましいが，近年では事務処理用の
Wordがその代わりとなっているように見受けられる．今回は, はこだて未来大学
においてどの程度Wordや\LaTeX{}が浸透しているのかを2003年度の卒業研究から
提出される中間レポートを参考に統計を取ってみた．結果は予想通りWord人口が
圧倒的に多かった．また，この中間報告のサンプルの内容は出たら目であるので，
あくまで入力例として参考にしてもらいたい．
\end{abstract}
\maketitle % 表題

\section{目的}
当大学では卒業研究の中間報告として中間レポートを提出するようになってい
る．各自がどのようなアプリケーションを使っているのかを調査することが今
回の目的である．
\section{方法}
直接研究生にアンケートをとったわけではなく，ウェブページ上で2003年9月
10日までに提出されているレポートを調査対象とした．

\section{結果}
提出されているレポートを大まかに調査した結果が表~\ref{tab:result}となる．
これは研究生がどのようなアプリケーションで中間レポートを作成したのかを
調べた結果である．どうしても判別できないものは\K{その他}の項目に入れ
てある．レポートの最終形態ではなく，原稿を作成する段階で使ったアプリケ
ーションを示している．
\begin{table}[htbp]
 \centering
  \caption{データの集計結果}\label{tab:result}
  \begin{tabular}{lrr}
   \hline
   項目        & 人数 (人)& 割合 (\%)  \\ \hline
   Word        &  75 & 45.2  \\
   \LaTeX{}    &  26 & 15.6  \\
   HTML        &  54 & 32.5  \\
   Illustrator &   4 &  2.4  \\
   OpenOffice  &   1 &  0.6  \\
   その他      &   6 &  3.0  \\ \hline
   合計        & 166 &  100  \\ \hline
  \end{tabular}
\end{table}
これらの結果は二次的に入手した情報のため，データに若干の誤りがある．直
接アンケートをとって調べればもっと正確な情報が収集できるが，今回は簡易
的な形をとった．

\section{考察}
以上の結果から，現在HTMLで作成している人物はWordを使う事になるだろう．
結果があくまで中間報告である事を考えれば，Word人口がこれから増えること
は明白である．今度の働きかけ次第で当大学の\LaTeX{}人口を増加させること
も可能である．\par
この現象を天下り的にフーリエ変換で解析する．まず，フーリエ変換で関数
$f(x)$を定義する．この関数$f(x)$は変換のための区間を必要とするので，
区間を$[-L,L]$とする．すると以下の式が定義から導出される．
\begin{eqnarray*}
f(x)& = & \frac{a_0}{2} + \sum^{\infty}_{n=1} \left( a_n \cos 
          \frac{n\pi x}{L} + b_n \sin \frac{n\pi x}{L} \right) \\
a_n & = & \frac{1}{L} \int^{L}_{-L} f(u) \cos \frac{n\pi u}{L} du\\
b_n & = & \frac{1}{L} \int^{L}_{-L} f(u) \sin \frac{n\pi u}{L} du
\end{eqnarray*}
よって，次式~(\ref{eq:fourier1})が新たに得られる．
\begin{eqnarray}
f(x) & = & \frac{1}{2L} \int^{L}_{-L} f(u) du \nonumber\\
     & + & \sum^{\infty}_{n=1} \left[ \frac{1}{L} \int^{L}_{-L}
           f(u) \cos \frac{n\pi x}{L} du \cdot \cos \frac{n\pi x}{L}
           \right. \nonumber \\
     & + & \left. \frac{1}{L} \int^{L}_{-L} f(u) \sin 
           \frac{n\pi u }{L}du \cdot \sin \frac{n\pi x}{L} \right]
           \label{eq:fourier1}
\end{eqnarray}
式~(\ref{eq:fourier1})を\(L\rightarrow\infty\)にしたりしてフーリエ変
換は一般に式~(\ref{eq:fourier2})のように書き表すことができる．
\begin{equation}
F(\alpha )= \frac{1}{\sqrt{2\pi}} \int^{\infty}_{-\infty} 
            f(u) e^{-t\alpha u}du \label{eq:fourier2}
\end{equation}
式~(\ref{eq:fourier2})を使って今回の結果を解析することは，現段階では非
常に困難であると容易に考察できる．

\section{今後の展望}
今回得られた調査結果を下にGnuplotでデータをプロットする作業が続くもの
と思われる．また，グラフは主にGnuplotから挿入するのが望ましいとされる．
Gnuplotから挿入したグラフは図~\ref{fig:sample}となる．
\begin{figure}[htbp] 
 \centering
  \fbox{\rule{0pt}{3zw}\rule{3zw}{0pt}}
  \caption{picture環境で描画した図形}\label{fig:sample}
\end{figure}
\nocite{*}
\bibliographystyle{jplain}
\bibliography{\jobname}% 参考文献にファイル名.bib を指定
\end{document}
\end{InText}

\clearpage
\noindent\IOmargin\makebox[0pt][l]{%
\fbox{\includegraphics[clip,bb={0 0 595 842},width=\ffullwidth]
   {images/abst1}\IOlabel}}

\clearpage
\noindent\IOmargin\noindent\makebox[0pt][l]{%
\fbox{\includegraphics[clip,bb={0 0 595 842},width=\ffullwidth]
   {images/abst2}\IOlabel}}



\section{学位論文のサンプル}
学位論文などは規模として大きくなるので文書クラスは
\Cls{jreport}か\Cls{jsbook}を使うことになります．
\cls{jsbook}の場合にクラスオプションは
\begin{InText}
\documentclass[openany,oneside,11pt]{jsbook}
\end{InText}
とすると左右起こしをせずに片面印刷で出力されます．


\cls{jreport}や\cls{jsbook}で使用できる見出しは
\begin{description}
\item[章見出し]  \Cmd{chapter}
\item[節見出し]  \Cmd{section}
\item[小節見出し]  \Cmd{subsection}
\end{description}
の三つです． \Cmd{subsubsection}命令はなるべく使わないほう
が良いでしょう．\cls{jsarticle}文書クラスで使用できた
\env{abstract}環境は使えなくなりますので
\begin{InText}
\chapter*{概要}\addcontentsline{toc}{chapter}{概要}
ここに簡潔に概要を書く．
\end{InText}
として\Z{章立て}します．


%\subsection{クラスファイルが提供されている}

学位論文などは大学側から文書クラスが提供されることがあります．
当大学の卒業論文の場合は\Cls{funthesis}というクラスファイル
が配布されていますのでこれを使うことになります．
クラスファイルとして\cls{funthesis}を使った例を示します．
出力は省略させていただきます．
\begin{InText}
%#!platex
%\documentclass[english]{funthesis}% 本文が英語のとき
\documentclass{funthesis}
\usepackage[dvipdfmx]{graphicx}% dvipsk の場合は`dvips'にする
% 日本語の題名
% 長いときは`\\'で改行
\jtitle{公立はこだて未来大学における卒業論文の
{\LaTeX}クラスファイルの設計に関する考察}
% 論文の英文タイトル
\etitle{Title in English}
% 氏名(日本語)
\jauthor{未来 太郎}
% 氏名(英語)
\eauthor{Taro MIRAI}
% 所属学科名
\affiliciation{複雑系アーキテクチャ学科}
% 学籍番号
\studentnumber{1300000}
% 正指導教員名
\advisor{正指導 教員}
% 副指導教員がいる場合はコメントアウトし名前を書く
% 副指導教員がいない場合は，ここは削除しても可
%\coadvisor{副指導 教員}
% 論文提出日
\date{2004/01/31}
% ここから本文の始まり
\begin{document}
% 表紙
\maketitle
% 英語の概要
\begin{eabstract} Abstract in English. (about 500 words)
\fake{you should write your English abstract in one page. }
% 英文キーワード
\begin{ekeyword}
Keyrods1, Keyword2, Keyword3, Keyword4, Keyword5
\end{ekeyword}
\end{eabstract}
% 和文概要(2000字程度)
\begin{jabstract} 日本語の概要を書く．(約200字）
\fake{ここに日本語の概要を書きます．}
% 和文キーワード
\begin{jkeyword}
キーワード1, キーワード2, キーワード3, キーワード4, キーワード5
\end{jkeyword}
\end{jabstract}
\tableofcontents % 目次
\listoffigures % 図目次
\listoftables % 表目次
%\doublespacing %  ダブルスペース
\chapter{序論} % 章(chapter)のタイトル
ここに序論を書きます．
\section{背景} % 節(section)のタイトル
以下に背景，関連する環境，状況，技術に関する概要を記述．
\chapter{考察}
考察しました．
\section{評価結果}
評価結果をここに記述します．
\chapter{結論と今後の展開}
結論と今後の展望をここに記述します．
% 以降，付録(付属資料)であることを示す
%\singlespacing % シングルスペース
\begin{appendix}
\chapter{アルゴリズム}
% 付録その1(関連資料など)を必要があれば載せる
\section{あるアルゴリズム}
% 付録その2(関連資料など)を必要があれば載せる
\chapter{ソースコード}
プログラムのソースコードなどを掲載します．
\section{あるソースコード}
何かを処理するあるプログラム\texttt{hoge.cpp}のプログラムを示す．
\begin{verbatim}
int main( void ){ return 0; }
\end{verbatim}
\fake[40]{{\thehoge} lines \par}
% 付録の終わり
\end{appendix}
\chapter*{謝辞}
謝辞を書く．
% 参考文献
\begin{thebibliography}{9}
 \bibitem{ラベル} 著者名. 書籍名. 出版社, 年号.
 \bibitem{MT1999} 未来太郎. 未来の未来. どこかの出版, 1999. 
\end{thebibliography}
\end{document}
\end{InText}
%
ファイルが大規模になる事が予想されているときは，下記のよう
に \C{include}命令を使って，章毎にファイルを分けると便利です．
\C*{includeonly}%
\begin{InText}
%#!platex
\documentclass[dvipdfmx]{funthesis}[2004/11/10]
\usepackage{gsset}% 自作の設定ファイル gsset.sty を読み込む
%\includeonly{05con}% ある章だけタイプセットする
\begin{document}
\maketitle%           表紙
\input{00abst}%       概要
%\frontmatter %        前付け
\tableofcontents %    目次
\listoffigures %      図目次
\listoftables %       表目次
%\mainmatter %         本文
\include{01preface}%  序論
\include{02prevwork}% 関連研究
\include{03plan}%     提案する理論
\include{04exp}%      実験と評価
\include{05con}%      考察
\include{06postface}% 結論と今後の展開
\include{07thanx}%    謝辞
\include{08ref}%      参考文献
\appendix %           付録
\include{10algo}%     アルゴリズム
\end{document}
\end{InText}



%\subsection{クラスファイルが提供されていない}


もし大学側からクラスが提供されていない場合は自前で作成すること
になります．しかも大抵の大学はTimes系のフォントを使ってフォン
トサイズは何々でという細かい指定をしてくるのが普通のようです．
親切な教員が作成してくれている場合もあります．とりあえず子供だ
ましですが\Cls{jsbook}を用いた例を紹介します．\cls{jreport}を使
っても良いですが\cls{jsbook}の方が個人的には良いと感じています．
まずはご自分の大学の規定に合わせて\cls{jsbook}に定義のいくつかに
変更を加えます．\cls{jsbook}そのものに変更を加えるとどこにどのよ
うな変更を加えたのかが分からなくなる問題などがありますので，別フ
ァイル\fl{mygs.sty}に変更したマクロなどをまとめておきます．ファイ
ルの先頭に%
\C*{ProvidesPackage}%
\begin{InText}
% Copying: Your Name
% E-mail:  name@univ.ac.jp
% Date:    2004/02/20
\ProvidesPackage{mygs}[2004/03/31 First Family]
\end{InText}
のようなファイル情報を書き込んでおくとよいでしょう．
大抵の機関でTimes系のフォントを指定すると思いますので%
\C*{RequirePackage}%
\begin{InText}
\RequirePackage{txfonts}
\end{InText}
の1行も必要でしょう．マクロパッケージの中で他のパッケージを
必要とする場合は \cmd{Requirepacakge} 命令を使います．

次にページレイアウトについてです．マージンについても細かい
指定をしてくるかもしれませんが，一定の設定方法を紹介しましょう．
ページレイアウトで設定できる項目については\figref{fig:pagelayout2}
を見てください．
\begin{figure}[htbp]
\begin{center}
\includegraphics[width=.9\textwidth]{images/mylayout}%
\caption{版面のレイアウトに使用できる長さ}\label{fig:pagelayout2}
\end{center}
\end{figure}

まずは1行の字数です．1行40文字であったとすると
長さ \Cmd{textwidth}に全角40文字の幅\pp{40zw}を指定します．
\indindz{幅}{1行の}%
\begin{InText}
\setlength\textwidth{40zw}
\setlength\fullwidth{\textwidth}%jsbookで必要
\end{InText}
行数は40行と指定されている場合 \Cmd{textheight}に40\Z{行送り}分
\pp{40\Cmd{baselineskip}}を指定します．
\begin{InText}
\setlength\textheight{40\baselineskip}
\end{InText}
この程度でも良いと思うのですが，%
\C*{hoffset}%
\C*{voffset}%
\C*{evensidemargin}%
\C*{oddsidemargin}%
\C*{topmargin}%
\C*{headheight}%
\C*{headsep}%
\C*{marginparwidth}%
\C*{marginparpush}%
\C*{marginparsep}%
\begin{InText}
\setlength\hoffset{13\p@}
\setlength\voffset{0\p@}
\setlength\evensidemargin{0\p@}
\setlength\oddsidemargin{\evensidemargin}
\setlength\topmargin{0\p@}
\setlength\headheight{0\p@}
\setlength\headsep{0\p@}
\setlength\marginparwidth{0\p@}
\setlength\marginparpush{0\p@}
\setlength\marginparsep{0\p@}
\end{InText}
のように設定しても良いでしょう．ここでの \cmd{p@} は
単位\qu{pt}のことです．マクロの中ではこのような命令を使うと良
いそうです．ここでは傍注やヘッダーを出力しないと仮定して
ほとんどの項目に\qu{0pt}を代入しています．

%ヘッダーやフッターは割とシンプルなもので良いと思うので
%\cls{jsbook}の場合は
%\begin{InText}
%\pagestyle{plainfoot}
%\end{InText}
%としてフッターの中央にページ番号を出力するようにします．
%\cls{jreport}は最初からシンプルな\str{plain}という
%ページスタイルになっています．
%ただし，\qu{-- 13 --}のようにダッシュも入れるときは
%\begin{InText}
% \let\@mkboth\@gobbletwo
% \let\@oddhead\@empty
% \let\@evenhead\@empty
% \def\@oddfoot{\normalfont\hfil-- \thepage\ --\hfil}%
% \let\@evenfoot\@oddfoot
% \setlength\footskip{2\baselineskip}%必要に応じて
%\end{InText}
%\zindind{太字}{のページ番号}%
%とします．ページ番号を太字にするときは \cmd{normalfont} に
%後に \Cmd{bfseries} を追加します．

見出しのフォントの場合は和文はゴシック，欧文はTimes Bold
としたい場合は\cls{jsbook}の場合は
\begin{InText}
\renewcommand{\headfont}{\gtfamily\rmfamily\bfseries}
\end{InText}
のようにしておけば良いでしょう．\cls{jsbook}は標準で
は欧文がサンセリフ体になっています．\cls{jreport}の場合
は最初から欧文がボールド体に設定されています．

おまけに目次の深さを決めるカウンタ\str{tocdepth}も
\begin{InText}
\setcounter{tocdepth}{2}
\end{InText}
とすると \cmd{subsection} まで出力されます．

\cls{jreport}の場合は見出しの後の字下げが行われない
ことがありますので
\begin{InText}
\RequirePackage{indentfirst} 
\end{InText}
として\Y{indentfirst}パッケージを読み込みます．

これらをまとめると自分のマクロパッケージ\sty{mygs.sty}が
出来上がります．
\begin{InText}
%% Copying : Thor Watanabe
%% E-mail  : thor@tex.dante.jp
%% Date    : 2004/02/20
\ProvidesPackage{mygs}[2004/02/20 First Family]
\RequirePackage{txfonts}% Times系のフォントを使う
%\RequirePackage{indentfirst}% jreportは必要
\setlength\textwidth{40zw}%1行40文字
\setlength\fullwidth{\textwidth}%jsbookでは必要
\setlength\textheight{40\baselineskip}%1ページ40行
\setlength\hoffset{13\p@}%\p@は0ptのこと
\setlength\voffset{0\p@}
\setlength\evensidemargin{0\p@}
\setlength\oddsidemargin{\evensidemargin}
\setlength\topmargin{0\p@}
\setlength\headheight{0\p@}
\setlength\headsep{0\p@}
\setlength\marginparwidth{0\p@}
\setlength\marginparpush{0\p@}
\setlength\marginparsep{0\p@}
\setlength\footskip{2\baselineskip}%必要に応じて
\def\ps@foot{%フッターに `-- ページ番号 --'としたいとき
 \let\@mkboth\@gobbletwo
 \let\@oddhead\@empty
 \let\@evenhead\@empty
 \def\@oddfoot{\normalfont\hfil-- \thepage\ --\hfil}%
 \let\@evenfoot\@oddfoot
}
\pagestyle{plainfoot}%jsbookならば
%\pagestyle{plain}%jreportならば
\renewcommand{\headfont}{\normalfont\bfseries}
\setcounter{tocdepth}{2}
\end{InText}

そのような作業が終わったら自分の論文の主となるソースファイル
を書き上げます．用紙はA4で，フォントサイズは11\,pt，左右起こし
はせずに片面印刷というのが一般的だと思いますから
\begin{InText}
\documentclass[a4j,11pt,openany,oneside]{jsbook}
\end{InText}
のようにします．そして先程作成した\fl{mygs.sty}を
\begin{InText}
\usepackage{mygs}
\end{InText}
として読み込みます．

この程度でも良いのですが，表紙もまた細かい指定をされる場合
があります．1から \cmd{maketitle} を作っても良いのですが，一
刻も早く論文を仕上げなければならないときに，命令を定義して
は間に合わないかも知れません．そのようなときは断腸の思い
で \Cmd{titlepage} 環境を借用して表紙を作ることもできます．%
\indindz{表題}{表紙の}\index{表紙の作成}%
例として \Cmd{maketitle}命令の変更例を紹介します．
\indindz{番号}{学籍}%
\begin{InText}
\renewcommand{\maketitle}{%
\begin{titlepage}
    \let\footnotesize\small
    \let\footnoterule\relax
    \let\footnote\thanks
    \null\vskip2em%ページ上部の空白
    \begin{center}\thispagestyle{empty}%
      {\LARGE\headfont ここに表題を書きます}\par\vskip1.5em
      {\Large\normalfont 未来太郎}\par\vskip2em
      {\small 未来研究学科 \qquad 学籍番号}\par\vskip1em
      {\small 指導教員 \qquad 北海太郎}\par\vskip2em
      {提出日 2004/02/30}\par\vskip1em
      {\Large\headfont English Title}\par\vskip1em
      {\large\rmfamily Your Name}\par\vskip1em
    \end{center}%
    \vfill\null
\end{titlepage}}
\end{InText}
 \Cmd{vskip}とは垂直方向に空きを挿入する命令です．

以上は例ですので先方に規定された通りのレイアウトに
適宜変更してください．

