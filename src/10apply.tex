%#!platex ron.tex
\ifusehyperref
\chapter{\texorpdfstring{\LaTeX}{LaTeX}の応用}\label{chap:ouyou}
\else
\chapter{{\LaTeX}の応用}\label{chap:ouyou}
\fi
\begin{abstract}
以下に示すコマンドなどはレポート・論文作成には
必要不可欠という程の要素ではありませんので，この
ような機能もあるという程度でご覧ください．
\end{abstract}

\section{ページレイアウトの簡単な設定}\zindind{ページ}{レイアウト}

\subsection{版面のレイアウト}

\KY{版面}のレイアウトを行う場合にはそれぞれの
長さに対して直接値を代入する方法があります．
{\LaTeX}で一般的に設定できる版面を調節する
長さは\figref{fig:pagelayout1}の通りです．
\begin{figure}[p]
\begin{center}
\includegraphics[width=.9\textwidth]{images/mylayout}%
\caption{版面のレイアウトに使用できる長さ}\label{fig:pagelayout1}
\end{center}
\end{figure}
このような版面を視覚的に確認するには\Sty{layout}パ
ッケージが使えます．このパッケージは使用されている%
\indindz{ファイル}{クラス}%
クラスファイルから版面のレイアウトを出力します．
使用方法は\env{document}環境中で \C{layout} 命令を
使うだけです．


\index{用紙}
まずはページ全体の\Z{余白}に関する長さです．\zindind{ページ}{の余白}
\begin{description}
 \item[\Cmd{voffset}] \zindind{用紙}{の空白}
 横組みにおいて用紙の左上の部分に入れる縦方向の余白．
 この値を0にしてもすでに1インチ分の余白が挿入される．
 本当に用紙の左上端から使うならば \cmd{voffset}を
 \qu{\str{-1in}}に設定します．

 \item[\Cmd{hoffset}] 
 横組みにおいて用紙の左上の部分に入れる横方向の余白．
 縦方向と同じようにすでに1インチ分の余白が挿入されています．

 \item[\Cmd{oddsidemargin}]
ページが奇数のときに挿入される左側の余白．
文書クラスオプションに\Option{oneside}を
使っていると全てのページに \cmd{oddsidemargin}が
挿入されます．

 \item[\Cmd{evensidemargin}] 
ページが偶数のときに挿入される左側の余白．
文書クラスオプションに\Option{twoside}を
使っているときだけ有効で\Option{oneside}では
意味がありません．
\end{description}

ヘッダの設定に関する長さです．
\begin{description}
\item[\Cmd{topmargin}] 
\cmd{voffset}とヘッダの間隔です．
\item[\Cmd{headheight}]
ヘッダの高さです．\indindz{高さ}{ヘッダの}%
\item[\Cmd{headsep}]
ヘッダと本文領域の間隔です．
\item[\Cmd{footskip}]
フッタ下部と本文領域の最下部との間隔です．
\end{description}

本文領域や傍注領域に関わる長さです．
\begin{description}
\item[\Cmd{textheight}]\indindz{高さ}{本文領域の}%
 本文領域の高さです．ヘッダやフッタの高さは含まれません．
 \item[\Cmd{textwidth}]
 本文領域の幅です．\indindz{幅}{本文の}%
 \item[\Cmd{marginparwidth}]
  傍注の幅です．\indindz{幅}{傍注の}%
 \item[\Cmd{marginparpush}]
 傍注と傍注のあいだの縦方向の長さです．
 \item[\Cmd{marginparsep}]
 傍注と本文領域との間隔です．
 \item[\Cmd{columnsep}]
 2段組以上での段と段の間隔です．
 \item[\Cmd{columnseprule}]
 2段組以上での段と段のあいだに入る罫線です．\indindz{罫線}{2段組での}
\end{description}
通常ここで紹介した長さはクラスファイル側
でフォントサイズやクラスオプションに応じ
て適切に設定されますので悪戯に変更しないでください．\zindind{ページ}{の行数}
相手先の都合で\yo{1行何文字1ページ何行}
のような設定などをしなければならないときは無理やり
\begin{InText}
\setlength{\textwidth}{33zw}
\setlength{\textheight}{40\baselineskip}
\end{InText}
とすることもできます．

\zindind{版面}{の設定}%
もっと簡単に版面の設定をしたいならば\Hito{梅木秀雄}
の作成した\Sty{geometry}を使うのが良いでしょう．


%ある環境などにおけるその時々の文章幅を保持している
% \Cmd{linewidth}という長さがあります．この長さを使うと
%その環境において文章幅いっぱいの図を張り込むということ
%もできるようになります．
%\begin{InOut}
% \begin{quote}
%  linewidth=\the\linewidth
%  \begin{quote}
%   linewidth=\the\linewidth
%  \end{quote}
% \end{quote}
%\end{InOut}
%

%\subsection{ヘッダやフッタの設定その1}\indindz{番号}{ページ}%
%ヘッダやフッタなどに出力されるページ番号などを\zindind{ページ}{の番号}
%変更したいときがあると思います．
%\begin{Syntax}
% \Cmd{pagestyle}\pa{表示形式}
%\end{Syntax}
%\cmd{pagestyle}命令を記述したページから
%指定した\Z{表示形式}に変更されます．
%指定できる形式は\tabref{tab:pagestyle}の
%通りです．
%\begin{table}[htbp]
%\begin{center}
%\caption{ヘッダやフッタの指定}\label{tab:pagestyle}
%\begin{tabular}{ll}
%\hline
%命令              & 内容 \\
%\hline
%\str{empty}      & ページ番号を表示しない                \\
%\str{plain}      & フッタ中央部に表示する              \\
%\str{headings}   & ヘッダにページ番号と章・節名を表示する\\
%\str{myheadings} & ユーザー定義の表示形式にする          \\
%\hline
%\end{tabular}
%\end{center}
%\end{table}
%\qu{\str{myheadings}}では
%\begin{Syntax}
% \Cmd{markright} \pa{ヘッダ} \\
% \Cmd{markboth} \pa{偶数ヘッダ}\pa{奇数ヘッダ}
%\end{Syntax}
%の二つの命令によってヘッダの出力を指定します．
%片面印刷のときに \cmd{markright}を使います．
%両面印刷には \Cmd{markboth}を使います．
%2004年度版の\yo{ほげほげ大学}の論文集を
%作成しているのであれば
%\begin{InText}
%\pagestyle{myheadings}
%\markboth{ほげほげ大学論文集}{2004年度版}
%\end{InText}
%とすると良いでしょう．
%
%任意の1ページだけのヘッダ・フッタは
%\begin{Syntax}
% \Cmd{thispagestyle}\pa{表示形式}
%\end{Syntax}
%とすることでそのページだけ変えることができます．
%
%ページ番号の表示形式を変更するには
%\begin{Syntax}
% \Cmd{pagenumbering}\pa{表示形式}
%\end{Syntax}
%と記述すればその場所から指定した形式で1ページ目から
%カウントしてページ番号を表示します．指定できる表示形
%式は\tabref{tab:pagenumber}の通りです．
%\begin{table}[htbp]
%\begin{center}
%\caption{ページ番号の種類の指定}\label{tab:pagenumber}
%\begin{tabular}{lll}
%\hline
%命令          & 内容               & 出力例         \\
%\hline
%\verb+arabic+ & \Z{アラビア数字}       & 1, 2, 3,\,\ldots \\
%\verb+roan+   & \Z{ローマ数字}   & i, ii, iii,\,\ldots\\
%\verb+Roman+  & ローマ数字   & I, II, III,\,\ldots\\
%\verb+alph+   & アルファベット小文字& a, b, c,\,\ldots,\, z\\
%\verb+Alph+   & アルファベット大文字& A, B, C,\,\ldots,\, Z\\
%\hline
%\end{tabular}
%\end{center}
%\end{table}
%ここで注意することはアルファベットにした場合は，
%最大26ページまでしかカウントできないということ
%です．27以上になった場合の対策は別にすることに
%なります．



%もっと詳細なヘッダ・フッタ定義するときは自分で
% \cmd{ps@なんとか}というコマンドを定義してこれを
%\begin{InText}
%pagestyle{なんとか} 
%\end{InText}
%のように使います．本冊子で使われているスタイルは
%以下の通りです．\hito{奥村晴彦}の\cls{jsclasses}
%を少し変更しただけです．
%\begin{InText}
%\newcommand{\ps@myhead}{%
%  \let\@oddfoot\@empty
%  \let\@evenfoot\@empty
%  \def\@evenhead{%
%    \if@mparswitch \hss \fi
%    \underline{\hbox to \fullwidth{\autoxspacing
%        \textbf{\thepage}\hskip3zw\leftmark\hfill\@title}}%
%    \if@mparswitch\else \hss \fi}%
%  \def\@oddhead{\underline{\hbox to \fullwidth{\autoxspacing
%        \@title\hfill{\if@twoside\rightmark\else\leftmark\fi}%
%	\hskip3zw\textbf{\thepage}}}\hss}%
%  \let\@mkboth\markboth
%  \def\chaptermark##1{\markboth{%
%    \ifnum \c@secnumdepth >\m@ne
%      \if@mainmatter
%        \@chapapp\thechapter\@chappos\hskip1zw
%      \fi
%    \fi
%    ##1}{}}%
%  \def\sectionmark##1{\markright{%
%    \ifnum \c@secnumdepth >\z@ \thesection \hskip1zw\fi
%    ##1}}}%
%\end{InText}
%これを別ファイル\fl{hoge.sty}などにまとめて \cmd{usepackage}
%するか， \cmd{makeatletter}と \cmd{makeatother}で囲むかで
%実際の出力を確認してみてください．


%\subsection{ヘッダ・フッタの変更その2}\indindz{スタイル}{ページ}%
%\zindind{ページ}{スタイル}%
%{\LaTeX}が標準で用意してくれているページスタイル
%では寂しい，そう思う人も多いでしょう．自分で全て
%定義することもできますが，\Hito{Piet Oostrum}が
%作成した\Sty{fancyhdr}を使うと比較的簡単にペー
%ジスタイルをカスタマイズできます．\sty{fancyhdr}
%は\Sty{fancyheadings}の後継で，ページのヘッダーと
%フッターをカスタマイズできるマクロです．
%まず\sty{fancyhdr}を使うために
%\begin{InText}
%\usepackage{fancyhdr} 
%\pagestyle{fancy}
%\end{InText}
%をプリアンブルに記述します．\sty{fancyhdr}では
%ヘッダ・フッタを六つに分割しています．
%\begin{center}
%\begin{tabular}{|p{15zw}cp{15zw}|}
%\hline
%\cmd{lhead} & \cmd{chead} & \hfill\cmd{rhead}\\
%\multicolumn{3}{|c|}{%
%   \hrulefill \pp{\cmd{headrulewidth}}\hrulefill} \\   
%\multicolumn{3}{|c|}{本文領域}\\
%\multicolumn{3}{|c|}{%
%   \hrulefill \pp{\cmd{footrulewidth}}\hrulefill} \\
%\cmd{lfoot} & \cmd{cfoot} &\hfill\cmd{rfoot} \\
%\hline
%\end{tabular}
%\end{center}
% \Cmd{lhead}， \Cmd{chead}， \Cmd{rhead}の
%三つはヘッダに使い \Cmd{lfoot}， \Cmd{cfoot}，
% \Cmd{rfoot}の三つはフッタに使います．%
%\indindz{罫線}{ヘッダ上部の}\indindz{罫線}{フッタ上部の}%%
% \Cmd{headrulewidth}はヘッダ下部の罫線の太さで，
% \Cmd{footrulewidth}はフッタ上部の罫線の太さです．
%図だけのページや表だけのページはシンプルな
%ヘッダ・フッタにしたり，ヘッダ下部の罫線を
%引かない場合があります．その場合は
%\begin{InText}
%\def\headrulewidth{\iffloatpage{0pt}{.4pt}} 
%\end{InText}
%と定義すると良いでしょう．\cmd{lhead}などの
%他の命令も同様に変更できます．
%
%例えば\cls{jarticle}クラスで次のようなヘッダ・フッタ
%\begin{center}
%\begin{tabular}{|p{15zw}cp{15zw}|}
%\hline
% & \hskip5em & \hfill 資本主義社会の崩壊\\
%\hline
%\multicolumn{3}{|c|}{本文領域}\\
%\hline
%名無しの権兵衛 & \hskip3em &\hfill \textbf{ページ番号}\\
%\hline
%\end{tabular}
%\end{center}
%を設定したければ以下のように記述します．
%\begin{InText}
%\lhead{} \chead{}
%\rhead{資本主義社会の崩壊}
%\lfoot{名無しの権兵衛} 
%\cfoot{}
%\rfoot{\textbf{\thepage}}
%\def\headrulewidth{.4pt}
%\def\footrulewidth{.4pt}
%\end{InText}
%書籍用クラス\cls{jbook}などでクラスオプションに
%\Option{twoside}が指定されている場合は偶数ページと
%奇数ページを個々に設定します．例えば次のような
%ヘッダ・フッタにしたいとします．
%\begin{center}
%\begin{tabular}{|p{7zw}cp{7zw}|}
%\hline
%第1章\hskip1zw ほげ& & \hfill 1.1\hskip1zw ほげ\\\hline
%\multicolumn{3}{|c|}{本文}\\\hline
%& \textbf{2}&\hfill \\\hline
%\end{tabular} \hfill
%\begin{tabular}{|p{7zw}cp{7zw}|}
%\hline
%1.2\hskip1zw  ほげ& & \hfill 第1章\hskip1zw ほげ\\\hline
%\multicolumn{3}{|c|}{本文}\\\hline
%& \textbf{3}& \\\hline
%\end{tabular}
%\end{center}
%ヘッダ・フッタの奇数ページと偶数ページの場所
%を区別するために以下のような設定になっています．
%\begin{center}
%\begin{tabular}{|p{6zw}cp{6zw}|}
%\hline
%\str{EL(H)}& \str{EC(H)}& \hfill  \str{ER(H)}\\\hline
%\multicolumn{3}{|c|}{本文}\\\hline
%\str{EL(F)}& \str{EC(F)} &\hfill \str{ER(F)} \\\hline
%\multicolumn{3}{c}{偶数ページ側}\\
%\end{tabular} \hfill
%\begin{tabular}{|p{6zw}cp{6zw}|}
%\hline
%\str{OL(H)} &\str{OC(H)} & \hfill \str{OR(H)} \\\hline
%\multicolumn{3}{|c|}{本文}\\\hline
%\str{OL(F)}&\str{OC(F)} & \hfill  \str{OR(F)}\\\hline
%\multicolumn{3}{c}{奇数ページ側}\\
%\end{tabular}
%\end{center}
%先程の出力を得るためには \Cmd{fancyhead}
%と \Cmd{fancyfoot}命令を使います．
%\begin{InText}
%\documentclass{jbook}
%\usepackage{fancyhdr} \pagestyle{fancy}
%\fancyhead[ER,OL]{\rightmark}
%\fancyhead[EL,OR]{\leftmark}
%\fancyfoot[EC,OC]{\textbf{\thepage}}
%\end{InText}
%欧文のクラスではこれで良いのですが和文では
% \Cmd{chaptermark}と \Cmd{sectionmark}の定義を
%\sty{fancyhdr}を読み込んだ後に次のように定義
%するのが普通でしょう．
%\begin{InText}
% \def\chaptermark#1{\markboth{%
%   \ifnum \c@secnumdepth >\m@ne
%     \if@mainmatter
%       \@chapapp\thechapter\@chappos\hskip1zw
%     \fi
%   \fi
%   #1}{}}%
%  \def\sectionmark#1{\markright{%
%    \ifnum \c@secnumdepth >\z@ \thesection \hskip1zw\fi
%    #1}}%
%\end{InText}


%\subsection{ページ/総ページ}
%ヘッダ・フッタの設定をフッタだけに
%\yo{ページ/総ページ}にしたい場合が
%あるでしょう．これは例えば次のよう
%にプリアンブルに記述します．
%\begin{InText}
%\AtEndDocument{\label{lastpage}}
%\makeatletter
% \newcommand{\ps@total}{%
% \let\@mkboth\@gobbletwo
% \let\@oddhead\@empty
% \let\@evenhead\@empty
% \def\@oddfoot{\normalfont\hfil--\thepage/\pageref{lastpage}--\hfil}%
% \let\@evenfoot\@oddfoot}
%\makeatother
%\pagestyle{total}
%\end{InText}
%この場合は \cmd{ps@total}によって新規に\qu{\str{total}}という
%ページスタイルを定義しています．ページ番号の書体を
%変えたいときは \cmd{normalfont}を \cmd{bfseries}などに
%変更します．
%


\section{レイアウトの制御}\indindz{ページ}{改}\indindz{区切り}{ページの}%
{\LaTeX}ではユーザーが意図的に改行や改ページ
を行わなくても良いように工夫されています．ど
うしても自分の思い通りにページをレイアウト
できないときは強制的なレイアウト命令を使いま
す．\K{ページ区切り}を制御したいならば
\zindind{ページ}{の区切り}%
\begin{description}
\item[\Cmd{newpage}] 
   改ページします．\Z{2段組}の場合は次の段までの
  改ページになります．
\item[\Cmd{clearpage}]	
   未出力の浮動体を配置してから改ページします．
 2段組の場合は本当の次のページまで改ページされます． 
\item[\Cmd{cleardoublepage}] 
  次のページが奇数ページになるように改ページします．
  これを\KY{奇数起こし}とか\KY{改丁}
  と呼びます．
%\item[\Cmd{samepage}] 
%   指定した場所でできる限り改ページを抑制します．
\end{description}
の四つの命令が使えます．

%\Cmd{nopagebreak}\opa{数値}\pp{$0 \leq i \leq 4$}\\
%\Cmd{pagebreak}\opa{数値} \\
%\Cmd{linebreak}\opa{数値} \\
%\Cmd{nolinebreak}\opa{数値} 



\K{空白}を制御するには以下の四つの命令が使えます．
\zindind{空白}{の制御}%
\begin{description}
\item[\Cmd{hspace}\pa{長さ}] 
  長さ分の横方向の空白を挿入します．
  行頭では有効ではありません．
\item[\Cmd{hspace*}\pa{長さ}]
  行頭でも横方向の空白を挿入します．
\item[\Cmd{vspace}\pa{長さ}]
  長さ分の縦方向の空白を挿入します．
  ページの先頭・末尾では有効ではありません．\zindind{ページ}{の先頭での空き}
\item[\Cmd{vspace*}\pa{長さ}] \zindind{ページ}{の末尾での空き}
  ページの先頭・末尾でも縦方向の空白を挿入します．
\end{description}
\begin{InOut}
\hspace{1cm}空白制御用のコマンドは行頭では
意図的に\vspace{0.5cm}アスタリスクを付けま
す．\par 
\hspace{1cm}段落の途中に縦方向\hspace{1cm}
の空白を挿入すると，段が改行されてから
縦に空白が挿入されます．
\end{InOut}

%\section{その他のコマンド}
%{\LaTeX}で用意されているその他のコマンドを紹介します．
%
%\subsection{日付}
%{\LaTeX}のプログラムを実行した段階で，その原稿をタ
%イプセットした日付を保存しています．
%\begin{Syntax}
%\Cmd{today}~\pp{日付}  \\
%\Cmd{number}\Cmd{year}~\pp{年} \\
%\cmd{number}\Cmd{month}~\pp{月} \\
%\cmd{number}\Cmd{day}~\pp{日}
%\end{Syntax}
%使用しているクラスファイル
%によって出力が違います．\cls{jarticle}などでは \Cmd{西暦}や\index{西暦}%
% \Cmd{和暦}という命令を使って\cmd{today}の西暦表示と和暦表示\index{和暦}%
%を変更できます．\hito{奥村晴彦}の
%\cls{jsclasses}で標準は西暦になっており，アスキーの
%\cls{jclasses}では和暦が標準です\pp{個人的には天皇
%制の名残のような和暦を使うのは好ましくないと感じ
%ていますし，ビジネス文書でわざわざ和暦を使っても
%世界に置いてけぼりを食らうだけだと思っています，
%個人的に}．欧文のクラスファイルではその言語の標準
%的な表示方法で出力されます．\index{年月日}\index{日付の表示}
%\begin{InOut}
%今日は{\number\year}年{\number\month}月
%{\number\day}日です．略して{\today}．
%\end{InOut}
%
%\subsection{{\protect\LaTeX}のロゴ}
%\begin{Syntax}
%\hfil \Cmd{TeX}   \hfil {\TeX} \hfil\\
%\hfil \Cmd{LaTeX} \hfil {\LaTeX} \hfil\\
%\hfil \Cmd{LaTeXe}\hfil {\LaTeXe} \hfil
%\end{Syntax}
%\hito{奥村晴彦}の\Cls{jsclasses}ではこれらに加えて
%次のロゴが用意されています．
%\begin{Syntax}
%\hfil \mbox{\Cmd{pTeX}}   \hfil \mbox{\pTeX} \hfil\\
%\hfil \mbox{\Cmd{pLaTeX}} \hfil \mbox{\pLaTeX} \hfil\\
%\hfil \mbox{\Cmd{pLaTeXe}}\hfil \mbox{\pLaTeXe} \hfil
%\end{Syntax}
%\begin{InOut}
%「実は僕も{\TeX}使っています．」\\
%「え？{\LaTeX}じゃないんですか？」\\
%「いやぁ，僕は{\TeX pert}だからさ．
% {\LaTeXe}も使ってませんよ．」\\
%「ということは{\pTeX}は使うんですね？」
%\end{InOut}


%\section{単位・通貨の出力について}\label{sec:unit}
%文中でも数式中でも単位は基本的にはローマン体で
%出力するのが普通ですので
%\begin{InOut}
%それは$y=30cm$となるので合計300mmになる．
%\end{InOut}
%のような入力はおかしい訳です．この場合は
%\begin{InOut}
%それは$y=30\,\mathrm{cm}$となるので
%合計300\,mmになる．
%\end{InOut}
%としたほうが良いでしょう．

%このように単位は数式中でも使う
%ことがあるかもしれませんので \Cmd{ensuremath}で
%単位用の命令を作成します．例えば長さの単位であるmmは
%\begin{InText}
%\newcommand{\mm}{\ensuremath{\,\mathrm{mm}}}
%\end{InText}
%と定義しちゃいます．ただし{\LaTeX}ですでに定義されている
%短い命令は再定義しないほうが無難ですので，リットル\cmd{l}などは
%\begin{InText}
%\newcommand{\litter}{\,\ensuremath{\mathit{l}}}
%\end{InText}
%とします．日本ではリットルをイタリック体にすることもあるようですが，
%基本的に単位は全てローマン体にしても良いようです．分野によっても
%区別が違うので調べてください．毎回単位を定義するのも大変なので
%単位用のマクロ\sty{units.sty}を以下のように作成します．
%\begin{InText}
%%File:units.sty
%\newcommand{\mm}{\ensuremath{\,\mathrm{\milli mm}}}
%\newcommand{\cm}{\ensuremath{\,\mathrm{cm}}}
%\newcommand{\mg}{\ensuremath{\,\mathrm{mg}}}
%\newcommand{\cc}{\ensuremath{\,\mathrm{cc}}}
%\newcommand{\litter}{\,\ensuremath{l}}
%\newcommand{\Ohm}{\ensuremath{\,\mathrm{\Omega}}}
%\end{InText}

\begin{comment}
 通貨などを出力するためには{\LaTeX}に標準で
 含まれる\Sty{textcomp}パッケージを使うと良
 いでしょう．これは古いエンコーディングだと
 使えませんので\Sty{fontenc}パッケージを読み
 込み
 \begin{InText}
 \usepackage[T1]{fontenc}
 \usepackage{textcomp}
 \end{InText}
 とします．フォントがビットマップになるという
 ことも危惧されますので特に不都合がなければ
 \Sty{txfonts}や\Sty{pxfonts}を併用して
 \begin{InText}
 \usepackage{txfonts,textcomp}%とかpxfonts
 \end{InText}
 とするのがベターだと思います．\tabref{tab:textcomp}が
 \sty{textcomp}によって使用できる記号一覧です．\indindz{記号}{通貨}%%"
 \begin{table}[htbp]\index{著作権記号}
 \small
 \caption{\textsf{textcomp}で使える記号}\label{tab:textcomp}
 \IOmargin\makebox[0pt][l]{\begin{tabular}{cl|cl|cl}
 \T{textquotestraightdblbase} & 
 \T{textmarried} &
 \T{textlquill} \\
 \T{texttwelveudash} &
 \T{textmusicalnote} &
 \T{textrquill} \\
 \T{textthreequartersemdash} &
 \T{texttildelow}&
 \T{textcent}\\
 \T{textleftarrow} &
 \T{textdblhyphenchar}&
 \T{textsterling}\\
 \T{textrightarrow}&
 \T{textasciibreve}&
 \T{textcurrency}\\
 \T{textblank}&
 \T{textasciicaron}&
 \T{textyen}\\
 \T{textdollar}&
 \T{textgravedbl}&
 \T{textbrokenbar}\\
 \T{textquotesingle}&
 \T{textacutedbl}&
 \T{textsection}\\
 \T{textasteriskcentered}&
 \T{textdagger}&
 \T{textasciidieresis}\\
 \T{textdblhyphen}&
 \T{textdaggerdbl}&
 \T{textcopyright}\\
 \T{textfractionsolidus}&
 \T{textbardbl}&
 \T{textordfeminine}\\
 \T{textzerooldstyle}&
 \T{textperthousand}&
 \T{textcopyleft}\\
 \T{textoneoldstyle}&
 \T{textbullet}&
 \T{textlnot}\\
 \T{texttwooldstyle}&
 \T{textcelsius}&
 \T{textcircledP}\\
 \T{textthreeoldstyle}&
 \T{textdollaroldstyle}&
 \T{textregistered}\\
 \T{textfouroldstyle}&
 \T{textcentoldstyle}&
 \T{textasciimacron}\\
 \T{textfiveoldstyle}&
 \T{textflorin}&
 \T{textdegree}\\
 \T{textsixoldstyle}&
 \T{textcolonmonetary}&
 \T{textpm}\\
 \T{textsevenoldstyle}&
 \T{textwon}&
 \T{texttwosuperior}\\
 \T{texteightoldstyle}&
 \T{textnaira}&
 \T{textthreesuperior}\\
 \T{textnineoldstyle}&
 \T{textguarani}&
 \T{textasciiacute}\\
 \T{textlangle}&
 \T{textpeso}&
 \T{textmu}\\
 \T{textminus}&
 \T{textlira}&
 \T{textparagraph}\\
 \T{textrangle}&
 \T{textrecipe}&
 \T{textperiodcentered}\\
 \T{textmho}&
 \T{textinterrobang}&
 \T{textreferencemark}\\
 \T{textbigcircle}&
 \T{textinterrobangdown}&
 \T{textonesuperior}\\
 \T{textohm}&
 \T{textdong}&
 \T{textordmasculine}\\
 \T{textlbrackdbl}&
 \T{texttrademark}&
 \T{textsurd}\\
 \T{textrbrackdbl}&
 \T{textpertenthousand}&
 \T{textonequarter}\\
 \T{textuparrow}&
 \T{textpilcrow}&
 \T{textonehalf}\\
 \T{textdownarrow}&
 \T{textbaht}&
 \T{textthreequarters}\\
 \T{textasciigrave}&
 \T{textnumero}&
 \T{texteuro}\\
 \T{textborn}&
 \T{textdiscount}&
 \T{texttimes}\\
 \T{textdivorced}&
 \T{textestimated}&
 \T{textdiv}\\
 \T{textdied}&
 \T{textopenbullet}&
 \\
 \T{textleaf}&
 \T{textservicemark}&
 \\
 \end{tabular}\IOlabel}
 \end{table}
 %
 %tectcomp
 %\T{textcapitalcompwordmark}
 %\T{textascendercompwordmark}
 %\T{textquotestraightbase}
 %\T{textquotestraightdblbase}
 %\T{texttwelveudash}
 %\T{textthreequartersemdash}
 %\T{textleftarrow}
 %\T{textrightarrow}
 %\T{textblank}
 %\T{textdollar}
 %\T{textquotesingle}
 %\T{textasteriskcentered}
 %\T{textdblhyphen}
 %\T{textfractionsolidus}
 %\T{textzerooldstyle}
 %\T{textoneoldstyle}
 %\T{texttwooldstyle}
 %\T{textthreeoldstyle}
 %\T{textfouroldstyle}
 %\T{textfiveoldstyle}
 %\T{textsixoldstyle}
 %\T{textsevenoldstyle}
 %\T{texteightoldstyle}
 %\T{textnineoldstyle}
 %\T{textlangle}
 %\T{textminus}
 %\T{textrangle}
 %\T{textmho}
 %\T{textbigcircle}
 %\T{textohm}
 %\T{textlbrackdbl}
 %\T{textrbrackdbl}
 %\T{textuparrow}
 %\T{textdownarrow}
 %\T{textasciigrave}
 %\T{textborn}
 %\T{textdivorced}
 %\T{textdied}
 %\T{textleaf}
 %\T{textmarried}
 %\T{textmusicalnote}
 %\T{texttildelow}
 %\T{textdblhyphenchar}
 %\T{textasciibreve}
 %\T{textasciicaron}
 %\T{textgravedbl}
 %\T{textacutedbl}
 %\T{textdagger}
 %\T{textdaggerdbl}
 %\T{textbardbl}
 %\T{textperthousand}
 %\T{textbullet}
 %\T{textcelsius}
 %\T{textdollaroldstyle}
 %\T{textcentoldstyle}
 %\T{textflorin}
 %\T{textcolonmonetary}
 %\T{textwon}
 %\T{textnaira}
 %\T{textguarani}
 %\T{textpeso}
 %\T{textlira}
 %\T{textrecipe}
 %\T{textinterrobang}
 %\T{textinterrobangdown}
 %\T{textdong}
 %\T{texttrademark}
 %\T{textpertenthousand}
 %\T{textpilcrow}
 %\T{textbaht}
 %\T{textnumero}
 %\T{textdiscount}
 %\T{textestimated}
 %\T{textopenbullet}
 %\T{textservicemark}
 %\T{textlquill}
 %\T{textrquill}
 %\T{textcent}
 %\T{textsterling}
 %\T{textcurrency}
 %\T{textyen}
 %\T{textbrokenbar}
 %\T{textsection}
 %\T{textasciidieresis}
 %\T{textcopyright}
 %\T{textordfeminine}
 %\T{textcopyleft}
 %\T{textlnot}
 %\T{textcircledP}
 %\T{textregistered}
 %\T{textasciimacron}
 %\T{textdegree}
 %\T{textpm}
 %\T{texttwosuperior}
 %\T{textthreesuperior}
 %\T{textasciiacute}
 %\T{textmu}
 %\T{textparagraph}
 %\T{textperiodcentered}
 %\T{textreferencemark}
 %\T{textonesuperior}
 %\T{textordmasculine}
 %\T{textsurd}
 %\T{textonequarter}
 %\T{textonehalf}
 %\T{textthreequarters}
 %\T{texteuro}
 %\T{texttimes}
 %\T{textdiv}
 \sty{tectcomp}にも含まれていない通貨などを
 探しているときはCTANの
 \begin{quote}
 \fl{CTAN/info/symbols/comprehensive/}
 \end{quote}
 に\Z{記号}の見本がありますのでそちらを参照してください．

\end{comment}


\section{あらかじめ定義されている見出しの変更}
\zindind{目次}{の見出しの変更}\zindind{見出し}{の変更}%
\yo{目次}や\yo{参考文献}などの見出しは \Cmd{tableofcontents}命令や
\Env{thebibliography}環境によって出力されます．
この見出しの文字を変更するには次のようにします．
\begin{InText}
\renewcommand{\refname}{関連書籍}
\end{InText}
標準的な和文の文書クラスでは\tabref{tab:midas:henko}
の見出しが定義されています．
\begin{table}[htbp]
 \begin{center}\zindind{図}{目次}\zindind{表}{目次}%
 \indindz{目次}{図}\indindz{目次}{表}
\zindind{部}{の見出し}%
\zindind{章}{の見出し}%
\zindind{目次}{の見出し}%
\zindind{参考文献}{の見出し}%
\zindind{索引}{の見出し}%
\zindind{付録}{の見出し}%
\zindind{図}{の見出し}%
\zindind{表}{の見出し}%
\caption{定義済みの見出しの変更}\label{tab:midas:henko}
 \begin{tabular}{lll}
 \TR
 \<命令>                 &\<意味> & \<標準的な定義>\\
 \MR
 \Cmd{prepartname}    & 部見出し番号の前の文字 & \Z{第}\\
 \Cmd{postpartname}   & 部見出し番号の後の文字 & \Z{部}\\
 \Cmd{prechaptername} & 章見出し番号の前の文字 & \Z{第}\\
 \Cmd{postchaptername}& 章見出し番号の前の文字 & \Z{章}\\
 \Cmd{contentsname}   & 目次の見出しの     & \Z{目次}\\
 \Cmd{listfigurename} & 図目次の見出し   & \Z{図目次}\\
 \Cmd{listtablename}  & 表目次の見出し   & \Z{表目次}\\
 \Cmd{bibname}        & \env{thebibliography}環境の見出し& \Z{参考文献}\\
 \Cmd{figurename}     & 図見出し番号の前の文字& \Z{図}\\
 \Cmd{tablename}      & 表見出し番号の前の文字& \Z{表}\\
 \Cmd{appendixname}   & \env{appendix}環境での見出しの前の文字& \Z{付録}\\
 \BR
 \end{tabular}
 \end{center}
\end{table}
\cmd{bibname}命令は\cls{jreport}や\cls{jbook}などでの定義で
\cls{(j)article}では \Cmd{refname}となっています．
\hito{奥村晴彦}の\cls{jsclasses}では節見出し番号の前と後にも
文字列を表示できるようになっています．
\begin{InText}
\renewcommand{presectionname}{第}
\renewcommand{postsectionname}{節}
\end{InText}
のように \Cmd{presectionname}や \Cmd{postsectionname}を
\K{再定義します}．

%\section{目次再見}
%目次に出力される項目を制御したいときがあります．例え
%ば見出し命令にアスタリスクをつけた場合\pp{\Cmd{chapter*}など}は
%通し番号が付かずに目次にも出力されません．
%これを目次にも書き出すには
%\begin{InText}
%\addcontentsline{toc}{chapter}{なんとか}
%\end{InText}
%とします．
%\begin{Syntax}
%\Cmd{addcontentsline}\pa{拡張子}\pa{種類}\pa{要素}\\
%\Cmd{addtocontents}\pa{拡張子}\pa{要素}
%\end{Syntax}
%例えば文書クラスに\cls{jreport}を使っていた場合に
%\yo{謝辞}のような章を出力するときは
%\begin{InText}
%\chapter*{謝辞}
%ありがとう，本当にありがとう．
%\end{InText}
%のように入力しますが，これを目次にも追加するには
%\begin{InText}
%\chapter*{謝辞}\addcontentsline{toc}{chapter}{謝辞}
%ありがとう，本当にありがとう．
%\end{InText}
%のように\cmd{chapter*}の直後に記述します．
%目次や{図目次}のある部分で改ページしたいときには
%\begin{InText}
%\addtocontents{toc}{\newpage}
%\addtocontents{lof}{\newpage}
%\end{InText}
%のようにします．

%\subsection{自作の箇条書き型の環境}
%箇条書きとはいくつかの段落を改行や余白などを含めた一連
%の項目のことです．{\LaTeX}ではすでにこの箇条書き型の環
%境が登場しています．主な環境として
%\begin{itemize}
%\item ラベル付きの\env{itemize}環境．
%\item 番号付きの\env{enumerate}環境．
%\item 説明ラベル付きの\env{description}環境．
%\item 項目を中央揃えさせる\env{center}環境．
%\end{itemize}
%などがあります．箇条書き型の環境では項目の始めにラベルを
%付けて字下げを挿入します．ラベルや字下げは必ずしも必要では
%ないので，中央揃えさせるだけの\env{center}環境にも使えます．
%既存の箇条書き型環境で満足できないときは\Env{list}環境や，
%少し制限のある\Env{trivlist}環境のパラメータの変更を行います．
%
%\subsection{list環境}
%\Env{list}環境は汎用性の高い箇条書き型環境です．
%
%\begin{Syntax}
%\verb|\begin{list}|\pa{標準のラベル}\pa{設定}\\
%\va{項目}\\
%\verb|\end{list}|
%\end{Syntax}
%\begin{figure}[htbp]
% \begin{center}
%  \begin{picture}(300,500)(0,0)
%
%  \drawline(0,500)(0,450)(300,450)(300,500)%前のテキスト
%  \put(150,450){\mbox{箇条書き前の文章}}
%  \drawline(0,0)(0,50)(300,50)(300,0)%後のテキスト
%
%  \drawline(20,400)(70,400)(70,385)(20,385)(20,400)%ラベル1
%  \LRArrow(20,380){50}[\BS labelwidth]
%  \put(45,397){\makebox(0,0)[t]{ラベル1}}
%  \drawline(20,200)(70,200)(70,185)(20,185)(20,200)%ラベル2
%  \put(45,197){\makebox(0,0)[t]{ラベル2}}
%
%   %第1段落
%   \LRArrow(80,383){15}[] 
%   \put(110,380){\makebox(0,0)[t]{\texttt{\BS itemindent}}}
%   \LRArrow(70,400){25}[]
%   \put(90,403){\makebox(0,0)[b]{\texttt{\BS labelsep}}}
%  \drawline(80,385)(95,385)(95,400)(300,400)(300,350)(80,350)(80,385)
%
%  \end{picture}
%  \caption{\texttt{list}環境で設定できる値}
% \end{center}
%\end{figure}
%\subsection{trivlist環境}
% 
%
%\section{箇条書き環境の自作}
%
%\begin{Syntax}
%\Cmd{list}\pa{ラベル}\pa{命令} \va{項目} \cmd{endlist}\\
%\Cmd{item}
%\end{Syntax}
%
%\begin{Syntax}
%\verb|\begin{trivlist}| \va{項目} \verb|\end{endlist}|
%\end{Syntax}
%
%\begin{figure}[htbp]
%\begin{center}
%\setlength{\unitlength}{.4pt}
%\begin{picture}(400,500)(0,0)
%\put(0,0){\circle*{1}}
%\end{picture}
%\caption{リスト環境の形式}\label{fig:listenv}
%\end{center}
%\end{figure}
%
%\begin{Syntax}
%\Cmd{leftmargin} (0)\\
%\Cmd{labelwidth} (0) \\
%\Cmd{itemindent} (0) \\
%\Cmd{linewidth} (\cmd{hsize})
%\end{Syntax}
%
%\begin{Syntax}
%\Cmd{makelabel} \\
%\Cmd{usecounter}\pa{hoge}
%\Cmd{boxlabels} 
%\end{Syntax}
%
%垂直空白(スキップ)
%\begin{Syntax}
%\Cmd{topsep} (0)\\
%\Cmd{partopsep} (0)\\
%\Cmd{itemsep} (0)\\
%\Cmd{parsep} (\cmd{parskip})
%\end{Syntax}
%
%水平空白(寸法)
%\begin{Syntax}
%\Cmd{leftmargin} ()\\
%\Cmd{rightmargin} (0pt)\\
%\Cmd{listparindent} (0pt)\\
%\Cmd{itemindent} (0pt)
%\Cmd{labelwidth} (0)
%\Cmd{labelsep} (0)
%\end{Syntax}
%
%\begin{Syntax}
%\Cmd{leftmargini} 
%\Cmd{leftmarginii} 
%\Cmd{leftmarginiii} 
%\Cmd{leftmarginiv} 
%\Cmd{leftmarginv} 
%\Cmd{leftmarginvi} 
%\end{Syntax}
%
% \Cmd{itemize}と \Cmd{enumerate}
%カウンタ\str{enumi}，\str{enumii}，\str{enumiii}，\str{enumiv}，
%

\section{多段組}\index{多段組}
{\LaTeX}では通常1段組と2段組しか制御できません．%
\zindind{2段組}{のときの段間}\zindind{2段組}{の段間の罫線}%
\begin{Syntax}
\Cmd{onecolumn}\\
\Cmd{twocolumn}\opa{要素}\\
\Cmd{columnsep}　\pp{2段組のときの段間}\\
\Cmd{columnseprule}　\pp{2段組のときの段間に引く罫線の太さ}
\end{Syntax}
1段組みにするためには \cmd{onecolumn}を使い，2段組に
するには \cmd{twocolumn}を使います． \cmd{twocolumn}
は改ページをしてから2段組を作成しようとします．
そのため任意引数に何らかの要素を与えるとその要素を
ページ上部に1段組で出力します．
\begin{InText}
\columnsep 2zw
\columnseprule .4pt
\twocolumn[{\large\LaTeXe はどうです？}]
ここからの文章が2段組になるでしょう．{\LaTeX}での
多段組の実現は難しいそうです．
\end{InText}
%\begin{OutText}
%{\large\LaTeXe はどうですか}\\[2em] 
%\hfil\parbox[t]{.4\linewidth}{ここからの文章が
%2段組になるでしょう．{\LaTeX}での多段組の
%実現}%
%\hskip1zw\makebox[.4pt][t]{%
%  \rule[-1\baselineskip]{.4pt}{2\baselineskip}}\hskip1zw%
%\parbox[t]{.4\linewidth}{は難しいそうです．}\hfil
%\end{OutText}
2段組みにすると図表は用紙の文章幅 \Cmd{textwidth}で
はなく1段分の幅 \Cmd{columnwidth}で張り込むことに
なります．また以下の二つの環境が使えます．
\begin{Syntax}
\Env{table*}環境 \\
\Env{figure*}環境
\end{Syntax}
\env{table}環境や\env{figure}環境にアスタリスクを付けると
その環境を1段分の幅でページの下部か上部に配置
しようとします．

 \Cmd{twocolumn}を使って2段組をすると最終ページの
段の高さが揃わないので，格好悪いでしょう．これは
\sty{multicol}パッケージで2段組にすると段が揃いますし，
\Sty{balance}パッケージを使っても可能です．


%\subsection{3段組以上}
%\Hito{Frank Mittelbach}の作成した\Sty{multicol}を
%使うと最高で10段まで段組できます．自動的に
%段の終わりの最終ページの文章の高さを揃えてくれます．
%ただし商用利用のためには作者の許諾と使用料が必要です．
%\begin{Syntax}
%\verb|\begin{multicols|\pa{段数}\\
%文章内容\\
%\verb|\end{multicols}| 
%\end{Syntax}
%\Env{multicols}環境の場合は改ページされずに同じ
%ページに違う段組を混在できます．余り好ましくない
%ことなので多用しないほうが良いでしょう．
%以下のような入力
%\begin{InText}
%\begin{multicols}{4}
%このパッケージでは10段組まで多段組出来ますが， 同ページに違う段数の要素
%を組み込むのは余り好ましいことではないので，特別な理由がない限り使うべき
%ではありません．このパッケージでは段の終わりの最終ページの文章を自動で揃
%えるので，従来の組版の規則にも合っています．
%\end{multicols} 
%\end{InText}
%とう入力があるとすれば，次のような出力を得ることが出来ます．
%\begin{multicols}{4}
%このパッケージでは10段組まで多段組出来ますが，
%同ページに違う段数の要素を組み込むのは余り
%好ましいことではないので，特別な理由がない限り
%使うべきではありません．このパッケージでは段の
%終わりの最終ページの文章を自動で揃えるので，従
%来の組版の規則にも合っています．
%\end{multicols} 
%
%
%\clearpage%

%\section{長さ} % mada
%{\laTEX}における\emph{長さ}には伸縮するものと
%しないものの2種類があります．伸縮するものを
%\KY{可変長の長さ}と呼び，伸縮しないものを\indindz{長さ}{可変長の}
%\KY{固定長の長さ}と呼びます．\indindz{長さ}{固定長の}
%可変長の長さは\KY{スキップ}と呼ばれることが多いようですが，
%本書では可変長の長さと呼びます．
%可変長の長さには\KY{長さ}，\KY{縮み率}，\KY{伸び率}の三つの
%属性を持っています．固定長の長さは決まった値しか
%持ちません．可変長の長さは縮み率と伸び率に従って
%バネのように伸縮します．長さの定義には
% \cmd{newlength}が使えます．
%\begin{Syntax}
%\Cmd{newlength}\pa{綴り}\\
%\Cmd{setlength}\pa{綴り}\pa{長さ} \\
%\Cmd{addtolength}\pa{綴り}\pa{長さ}
%\end{Syntax}
% \cmd{setlength}で長さを設定します． \cmd{addtolength}
%では元の長さにさらに長さを足します． \cmd{newlength}
%で定義された長さは可変長にも固定長にもなっても良い
%ことになっています．まず \cmd{newlength}で新規に
%長さを定義します．次に \cmd{setlength}で
%値を決めます．
%\begin{InOut}
%\newlength{\newa} newa$=$\the\newa\par
%\setlength\newa{10pt plus 3pt}
%\par newa$=$\the\newa\par
%\addtolength{\newa}{3pt}
%newa$=$\the\newa
%\end{InOut}
%可変長の長さに値を足しても縮み率と伸び率には
%影響しないのが例の出力から分かるでしょう．
%
%長さを設定するには次の命令も使えます．
%\begin{Syntax}
%\Cmd{settowidth}\pa{綴り}\pa{要素} \\
%\Cmd{settoheigth}\pa{綴り}\pa{要素} \\
%\Cmd{settodepth}\pa{綴り}\pa{要素} 
%\end{Syntax}
%長さに対して要素の幅を代入するには \cmd{settowidth}を
%使います．高さに関しては \cmd{settoheight}，深さには
% \cmd{settodepth}を使います．このような命令の
%使い道を少し紹介しておきます．
%\begin{InOut}
%%\newlength{\newa} 
%\newcommand{\fakewidth}[1]{%
%  \settowidth{\newa}{#1}%
%  \framebox[\the\newa][c]{\strut}}
%解は{$\int f(x)dx$}となる．\par
%解は\fakewidth{$\int f(x)dx$}となる．
%\end{InOut}
%


\section{箱の操作}
まずは{\LaTeX}で用意されている\KY{箱}について説明します．
これらは\Fl{ltboxes.dtx}で定義されています．{\LaTeX}における箱とい
うのは文章や段落，数式や図表などの要素を格納する領域のようなものです．
{\LaTeX}の箱には\K{高さ}と\K{幅}と\K{深さ}の3種類の長さを
持っています．さらに箱のどの点を基準にするかという\K{基準点}と
いう座標も持ち合わせています．

\subsection{枠のない箱}
{\LaTeX}ではなんとも簡単に複数の要素を
一つの箱に収めることができます．
\begin{Syntax}
\Cmd{makebox}\opa{幅}\opa{位置}\pa{要素}
\end{Syntax}
 \cmd{makebox}では箱の幅と箱の中の要素の\indindz{幅}{箱の}%
位置を指定できます．箱の幅よりも要素の幅が狭いときに
箱の左側に配置\qu{\str l}，中央に配置する\qu{\str c}，
右側に配置する\qu{\str r}，最後に要素を均一に配置する
\qu{\str s}の四つを使うことができます．
\begin{InOut}
\makebox[3zw][l]{未来}と
\makebox[3zw][c]{函館}と
\makebox[5zw][r]{北海道}と
\makebox[5zw][s]{G o o d !}です．
\end{InOut}
要素の幅分の箱を作りたければ \cmd{mbox}を使います．
\begin{Syntax}
\Cmd{mbox}\pa{要素}
\end{Syntax}
引数を省略すると要素分の幅を確保し \cmd{makebox}を
使うよりも効率が良いです．
\begin{InOut}
\hspace*{\fill} 単なる予想ですが，この箱の
中では恐らく\mbox{改行が起こりません．} 
\end{InOut}

\subsection{枠のある箱}
複数の要素を一つの塊として扱うようにするのが
{\LaTeX}における箱の役割のようなものです．
箱には枠を付けることもできます．
\begin{Syntax}
\Cmd{framebox}\opa{幅}\opa{位置}\pa{要素}
\end{Syntax}
 \cmd{framebox}も \cmd{makebox}とほぼ同じですが\zindind{罫線}{の太さ}%
罫線の太さ \Cmd{fboxrule}と罫線と要素の
間隔 \Cmd{fboxsep}の二つの長さを設定できます．
 \cmd{fboxrule}は罫線の太さを， \cmd{fboxsep}は\zindind{枠}{の太さ}%
枠と要素との距離を長さで指定します．\zindind{枠}{と文字の間隔}%
\begin{InOut}
\framebox[3zw][l]{未来}と
{\fboxrule=3pt\framebox[3zw][c]{函館}}と
\framebox[5zw][r]{北海道}と
\framebox[5zw][s]{G o o d !}です．
\end{InOut}
 \cmd{makebox}と同じように引数を省略すると要素分の
幅を確保する \cmd{fbox}が使えます．
\begin{Syntax}
\Cmd{fbox}\pa{要素}
\end{Syntax}
\begin{InOut}
これは{\fboxsep=0pt\fbox{ぴったりです}}．
こちらは{\fboxrule=.8pt\fbox{若干太い}}．
\end{InOut}


\subsection{広範囲な箱}\indindz{箱}{広範囲な}%
指定した箱の大きさで段落を組む \Cmd{parbox}
命令もあります．標準では字下げがされません\indindz{字下げ}{箱の中での}%
ので必要があれば \cmd{parindent}に長さを代入
してください．
\begin{Syntax}
\Cmd{parbox}\opa{位置}\opa{高さ}\opa{要素の位置}\pa{幅}%
\pa{文字列}
\end{Syntax}
 \cmd{parbox}で作成された箱の基準をどこにするのかを
\va{位置}で指定します．位置には上部\qu{\str t}，
中央\qu{\str c}，下部\qu{\str b}の三つが使えます．
標準では中央になります．
\begin{InOut}
\parbox{13zw}{段落が終わる命令\par
を使っても改行されますが\par
標準では字下げされません．}
\end{InOut}
\begin{InOut}
\parbox[c]{4zw}{箱が中央に．}\ldots
\parbox[t][3zw][c]{4zw}{文字が中央で
上が基準}\ldots 
\parbox[b][3zw][t]{4zw}{文字が下で下
が基準か}\ldots
\parbox{3zw}{文字が上で下を基準}
\end{InOut}
\zindind{ページ}{のような箱}ページのような箱を組む\env{minipage}環境もあります．
\begin{Syntax}
\verb|\begin{minipage}|\opa{位置}\pa{幅}\\
ページ内容\\
\verb|\end{minipage}|
\end{Syntax}
\Env{minipage}環境では段落が組まれますし，
脚注の出力も可能です．%
\index{脚注!minipage環境での@\texttt{minipage}環境での\zdash}%
\begin{InOut}
この環境は~
\begin{minipage}[t]{7zw}
ページを組みあげるので脚注\footnote{脚注です．}
もページの中に出力されます．
\end{minipage} 
~のようになります．
\end{InOut}

%\subsection{箱の保存と使用}\zindind{箱}{の保存}\zindind{箱}{の再利用}%%
%ある要素を箱の中に保存し，それを再利用できれば
%エネルギー消費を減らすことができます．
%\begin{Syntax}
%\Cmd{newsavebox}\pa{綴り}
%\end{Syntax}
%箱を保存するためには保存する場所の確保を
% \cmd{newsavebox}で行います．{\LaTeX}が使っ
%ても良い箱は数が限られているのであらかじめ
%いくつくらい使うのかを宣言してあげます．
%宣言するときはバックスラッシュを先頭に付けます．
%箱の中に要素を保存するときは \cmd{savebox}か
% \cmd{sbox}命令を使います．
%\begin{Syntax}
%\Cmd{savebox}\pa{綴り}\opa{幅}\opa{要素の位置}\pa{要素}\\
%\Cmd{sbox}\pa{綴り}\pa{要素}
%\end{Syntax}
%箱の幅や要素の位置を指定するときは \cmd{savebox}
%を使います．もちろん幅を指定しないと要素の位置は
%指定できません．
%上記の命令のほかにも\Env{lrbox}環境があります．
%行に収まるくらいの要素を\env{lrbox}環境の中に
%記述すると\va{綴り}の箱に代入します．
%\begin{Syntax}
%\verb|\begin{lrbox}|\pa{綴り}\\
%要素\\
%\verb|\end{lrbox}|
%\end{Syntax}
%
%これまでの命令では箱を用意してその中に要素を保\zindind{箱}{の用意}%
%存するだけですので，保存した箱を \Cmd{usebox}命令で使います．
%\begin{Syntax}
%\Cmd{usebox}\pa{綴り}
%\end{Syntax}
% \cmd{usebox}命令を使うと\va{綴り}の箱に
%保存されている要素を複数回再利用できます．
%\begin{InOut}
%\newsavebox{\hoge} 
%\savebox{\hoge}{\LaTeXe から\LaTeX3}
%\usebox{\hoge}, \usebox{\hoge}.\par
%\usebox{\hoge}, \usebox{\hoge}.\par
%\sbox{\hoge}{} \usebox{\hoge}
%\end{InOut}
%{\LaTeX}の作業領域は限られていますので
% \Cmd{setbox}命令で\va{綴り}の箱を
%使い終わったら空にします．


%\subsection{箱の上げ下げ}\zindind{箱}{の上げ下げ}%
%ある要素を箱の中に入れて，さらに上げ下げを
%同時に行う \Cmd{raisebox}命令もあります．
%\begin{Syntax}
%\Cmd{raisebox}\pa{上げ下げ}\opa{高さ}\opa{深さ}\pa{要
% 素}
%\end{Syntax}
% \cmd{raisebox}命令の中には文字列や他の箱も
%挿入できます．
%\begin{InOut}
%ありゃま，\raisebox{1zw}{ほげほげ}は
%\raisebox{-1zw}{どれどれ}で，
%\raisebox{1.5zw}{\fbox{枠付きの箱}}だよ．
%\end{InOut}
%この命令でこんな悪ふざけもできます．
%\begin{InOut}
%\fbox{ほげ，\raisebox{1zw}{ほげ}
%ほげ，\raisebox{-1zw}{ほげ}
%ほげ，\raisebox{1zw}{ほげ}
%ほげ，\raisebox{-1zw}{ほげ．}}
%\end{InOut}

\subsection{罫線と下線}
箱とは違うのですが\KY{罫線}をここで紹介しておきます．
\begin{Syntax}
\Cmd{rule}\opa{上げ率}\pa{幅}\pa{高さ}
\end{Syntax}
 \cmd{rule}命令は使いものになります．見えない罫線を
引くこともできます．例えば幅が0\,ptでも高さのある
罫線，高さが0\,ptでも幅のある罫線が使えますから，
こんな使い方もできるわけです．枠の見える
状態での例を見てください．
\begin{InOut}
未来\fbox{\rule{0pt}{3zw}\rule{4zw}{0pt}}
函館\fbox{\rule{0pt}{3zw}\rule{2zw}{0pt}}
\end{InOut}

箱とは違うのですが\KY{下線}も紹介しておきます．
下線は \cmd{underline}を使います．
\begin{Syntax}
\Cmd{underline}\pa{要素}
\end{Syntax}
 \cmd{underline}の中に箱を入れることもできますし，
何を入れても構いません．
\begin{InOut}
\underline{\fbox{枠付きの箱}の下線}はこのよ
うにしますし，もちろん\underline{下線}も表示
できます．
\end{InOut}

%\subsection{枠付きの箱その2}\indindz{箱}{枠付きの}%
%{\LaTeX}の標準では \Cmd{fbox}と \Cmd{framebox}命令が使えます．
%\indindz{枠}{2重の}%
%\begin{InOut}
%\fbox{これは枠付きの箱} \\
%\framebox[10zw][c]{ほげほげ}\\
%\fbox{\fbox{2重枠の箱}} \\
%{\fboxrule=1pt\fbox{枠の太い箱}}\\
%{\fboxsep=0pt\fbox{文字と枠がぴったりな箱}}
%\end{InOut}
%
%\Hito{Timothy Zandt}による\Sty{fancybox}を使ってみると
%枠付きの箱を出しやすいでしょう．枠付きの箱に文字列を入れる
%ための命令として \Cmd{shadowbox}， \Cmd{doublebox}，
% \Cmd{ovalbox}， \Cmd{Ovalbox}の四つがあります．
%\begin{InOut}
%\shadowbox{影付きの箱} \\
%\doublebox{2重の枠付き~%
%\ovalbox{辺が丸い}~%
%\Ovalbox{太くて辺が丸い}}
%\end{InOut}
%
%\sty{fancybox}を使うと\Env{Sbox}環境というものが使えて，
%これは環境内のものを箱\pp{レジスタ}である \Cmd{TheSbox}に
%保存します．このようにして保存した箱を \Cmd{fbox}などで
%囲みます．例えば\env{minipage}を枠で囲む\env{Fminipage}
%環境を作成するのであれば
%\begin{InText}
%\newenvironment{Fminipage}%
%  {\begin{Sbox}\begin{minipage}}%
%  {\end{minipage}\end{Sbox}\fbox{\TheSbox}}
%\end{InText}
%とします．
%\begingroup
%\begin{InOut}
%\newenvironment{Fminipage}{%
%   \begin{Sbox}\begin{minipage}}%
%  {\end{minipage}\end{Sbox}%
%   \fbox{\TheSbox}}
%\begin{fminipage}{.8\linewidth}
%この環境は枠で囲まれます．というか，
%囲んでくれないと困ります．
%\end{fminipage}
%\end{InOut}
%\endgroup
%
%数式環境などを枠で囲もうと思うとき，数式番号も
%含めて枠の中に入れるのはちょっと面倒かもしれません．
% \cmd{fbox}などの命令を使うとそこから数式を組み立てる
%モードではなく文章を組み立てるモードになりますので，
%もう1度数式環境を書きます．
%\begin{InOut}
%\( y=f(x)+\fbox{\(C\)}\) 
%\begin{equation}
% \fbox{\(y=f(x)\)}
%\end{equation}
%\end{InOut}
%
%番号付きの数式を文章幅いっぱいに枠で囲むには
%\begin{quote}
% (\cmd{linewidth} (文章幅) $-2$\cmd{fboxrule} $-2$\cmd{fboxsep})
%\end{quote}
%を計算します．これには\Sty{calc}パッケージが使えます．
%\begin{InOut}
%%\usepackage{calc,fancybox} 
%\fbox{\parbox{%
%  (\linewidth-2\fboxrule-2\fboxsep)}{
%\begin{equation} y=f(x) \end{equation}}}
%\end{InOut}
%
%\env{eqnarray}環境は枠で囲もうと思うと\sty{fancybox}の
%場合は\Env{Beqnarray}が用意されていますので，こちらの
%環境を \cmd{fbox}などで囲みます．
%\begin{InOut}
%\fbox{\begin{Beqnarray}
% y&=&f(x)\\
%  &=&1/x
%\end{Beqnarray}} 
%\end{InOut}
%
%\env{table}環境や\env{figure}環境などで見出しも
%含まれる要素は \Cmd{Sbox}で一度保存したものを枠で
%囲むようにします．こうすると
%\begin{InText}
%%\usepackage{calc,fancybox} 
%\newenvironment{ftable}[1][htbp]%
%  {\begin{table}[#1]
%   \begin{Sbox}\begin{minipage}{%
%  (\linewidth-2\fboxrule-2\fboxsep)}}%
%  {\end{minipage}\end{Sbox}\fbox{\TheSbox}\end{table}} 
%\end{InText}
%のように\env{ftable}や\env{ffigure}のような環境が
%定義できます．この出力例が\tabref{tab:fancy}となります．
%\begin{ftable}
%\begin{center}
%  \begin{tabular}{ccc}
% \LaTeX2.09& \LaTeXe& \LaTeX3\\
% \end{tabular} 
% \caption{\protect\LaTeX の歴史}\label{tab:fancy}
%\end{center}
%\end{ftable}
%
%\sty{fancybox}では\env{center}環境のように行揃えを
%行う環境があります．これを枠で囲むには%
%\zindind{左揃え}{を枠で囲む}%
%\zindind{右揃え}{を枠で囲む}%
%\zindind{中央揃え}{を枠で囲む}%
%\Env{Bcenter}，\Env{Bflushleft}，\Env{Bflushright}
%環境を使います．
%\begin{InOut}
%\fbox{\begin{Bcenter}
%ここは \\ 中央揃えで \\ 枠付きなのだぁ．
%\end{Bcenter}}
%\end{InOut}
%\begin{InOut}
%\fbox{\begin{Bflushleft}
%ここは \\ 左揃えでぇ〜 \\ 枠付き．
%\end{Bflushleft}}
%\end{InOut}
%\begin{InOut}
%\fbox{\begin{Bflushright}
%ここはですねぇ \\ 右揃えで \\ 枠付き．
%\end{Bflushright}}   
%\end{InOut}
%\env{minipage}環境の中で行揃えの命令を使うことも
%考えられますが，その場合は横幅を指定しないといけ
%ないので，これらの環境は便利でしょう．
%箇条書き環境も同様に\env{minipage}の中に入れて
% \cmd{fbox}で囲むことも考えられますが，\sty{fancybox}では
%\Env{Bitemize}，\Env{Benumerate}，\Env{Bdescription}の
%三つがすでに定義されているので，これらの環境を
%枠で囲みます．
%\begin{InOut}
%\fbox{\begin{Bitemize}
% \item ほげほげ．
% \item[] あれあれあれあれ？．
% \item[d] どれどれ．\end{Bitemize}}
%\end{InOut}
%
% \Cmd{verb}命令を枠で囲むときは \Cmd{VerbBox}命令を
%使います．
%\begin{InOut}
%\VerbBox{\fbox}{%
%  \verb|\VerbBox{\fbox}{\verb+文章+}|}
%\end{InOut}
%
%\Env{verbatim}環境を枠で囲む場合はやはり先に
%\env{Sbox}環境で囲んで \cmd{TheSbox}を枠で
%囲むようにします．この場合\Env{fverbatim}環境を
%定義したほうが便利でしょう．ただし，この場合
% \Cmd{VerbatimEnvironment}命令と\Env{Verbatim}環境を
%併せて使わないとエラーになります．
%\begin{InOut}
%\newenvironment{fverbatim}[1]{%
%  \VerbatimEnvironment\begin{Sbox}%
%  \begin{minipage}{#1}\begin{Verbatim}}%
%  {\end{Verbatim}\end{minipage}%
%  \end{Sbox}\fbox{\TheSbox}}
%\begin{fverbatim}{.8\linewidth}
%このべた書き環境は枠で囲まれて
%出力されます．
%\end{fverbatim}
%\end{InOut}
%
%このほかにも\sty{fancybox}にはファイルから
%読み込んだ行をべた書き環境に出力する命令なども
%用意されています．
%



\section{空白の挿入}
\zindind{空白}{の挿入}%
{\LaTeX}にはいろいろ空白が用意されているのですが，
それらは\KY{空き}に含まれます．単語間に挿入される
程度の空きを基準とするとその4倍の空きを
\qu{quad}\pp{クワタ}と呼びます．和文組版では
空きの基準となるのは全角1文字分の幅であり，これを
\K{全角空白}などと呼びます．全角空白一つ分の
空きを\K{全角空き}，全角空白二つ分の空きを
\K{倍角空き}と呼びます．さらに4分の1の場合は
\K{四分空き}，6分の5ならば\K{二分三分}と
呼んだりします．欧文の\qu{quad}と和文の\yo{クワタ}
では若干長さが異なりますので，本冊子では二つを
区別して表します．

\subsection{水平方向の空き}
\indindz{空き}{水平方向の}%
\zindind{改行}{を許す空き}%
水平方向の空きにはその両側での改行を許すものと
許さないものがあります．主な空きを制御する
命令は\tabref{tab:yokokuhaku:break}の通りです．
\tabref{tab:yokokuhaku:break}は基本的に
空きの前後での改行を行っても良いことになっています．
\begin{table}[htbp]
\begin{center}
\caption{改行を許す水平方向の空き}\label{tab:yokokuhaku:break}
\glossary{" @\hspace*{-1.2ex}\verb*+"\" +!文中の\zdash}%"
\indindz{空白}{単語間}%
\begin{tabular}{ll}
\TR
\<命令>         & \<意味>  \\
\MR
\verb*|\ |   & 適切な\K{単語間空白} \pp{約1/4\,quad分}  \\
\Cmd{quad}   & 1\,quad分の空き \\
\Cmd{qquad}  & 2\,quad分の空き \\
\Cmd{enspace}& 1/2\,quad分の空き\\
\Cmd{enskip} & 適切な約1/2\,quad分の空き\\
\Cmd{thinspace}    & 1/5\,quad分の空き\\
\Cmd{negthinspace} & $-$1/5\,quad分の空き\\
\BR
\end{tabular}
\end{center}
\end{table}
%
\begin{InOut}
ユーザが{\quad}原稿の中{\qquad}で空き
の調節を直接\ するのは好ましくない．
\end{InOut}

\tabref{tab:yokokuhaku:break}の命令は改行を
許しますが\tabref{tab:yokokuhaku:nobreak}では
空きの前後での改行を許しません．
改行を許さないので行頭・行末が不揃いに\index{行末}
なるときがあります．
\zindind{改行}{を許さない空き}%
\begin{table}[htbp]
\begin{center}
\caption{改行を許さない水平方向の空き}
\label{tab:yokokuhaku:nobreak}
\glossary{"!@\hspace*{-1.2ex}\verb+"\"!+}%
\index{"~@\verb+"~+}%"
\glossary{"~@\verb+"~+}%"
\begin{tabular}{ll}
\TR
\<命令>     & \<意味>  \\
\MR
\Cmd{,}  & 3/18\,quad分の空き\\
\Cmd{:}  & 4/18\,quad分の空き\\
\Cmd{;}  & 5/18\,quad分の空き\\
\verb|~| & 適切な\K{単語間空白} \\
%\Cmd{hspace*}\pa{長さ}& 
\BR
\end{tabular}
\end{center}
\end{table}
%
\begin{InOut}
Donald~E. Knuth made \TeX\@. 
Leslie~Lamport made \LaTeX\@.
\end{InOut}

自分で水平方向の空きの長さを指定するならば \Cmd{hspace*}
命令が使えます．
\begin{Syntax}
 \Cmd{hspace*}\opa{長さ}
\end{Syntax}
アスタリスクをつけると行頭・行末でも使えるようになります．
%\begin{InOut}
%ほげほげ\hspace{2zw}ほげほげ\par
%\hspace*{-2zw}ほげほげ．
%\end{InOut}
\hito{奥村晴彦}の\Cls{jsclasses}を使っているときに
は\qu{\str{pt}}や\qu{\str{cm}}などの単位は使わずに
\qu{\str{truept}}や\qu{\str{truecm}}などを使わないと
長さがずれます．これが面倒ならば文章で使われいる
フォントに応じて基準の変わる\qu{\str{em}}や\qu{\str{zw}}
などを使ってください．

\subsection{垂直方向の空き}\indindz{空き}{垂直方向の}
自分で長さを指定する垂直方向の空きにおいては \cmd{addvspace} 
と \cmd{vspace*} の二つが使えます．
\cmd{vspace*} はアスタリスクを付けないとページの最上部・最下部
では有効になりません．あらかじめ長さの決まっている
垂直方向の空きとして \cmd{smallskip}， \cmd{midskip}，
 \cmd{bigskip}の三つがありますが，これは\K{スキップ}
と呼ばれるもので可変長の空きが挿入されます．
\yo{見栄えが損なわれない程度におおよそ指定した長さの空きを挿入してほしい}と
いうような意味合いを持っています．
\begin{table}[htbp]
\begin{center}
\caption{垂直方向の空き}\label{tab:tatekuhaku}
  \begin{tabular}{ll}
 \TR
 \<命令>            & \<意味> \\
 \MR
  \Cmd{smallskip}& 3\,pt\ $\pm$1\,ptの空き \\
  \Cmd{medskip}  & 6\,pt\ $\pm$2\,ptの空き \\
  \Cmd{bigskip}  & 12\,pt \pp{$+$4\,ptか$-$2\,pt} の空き \\
 \BR
 \end{tabular}
\end{center}
\end{table}
垂直方向の空きは紙面の多くの部分を空きで占有するので
無駄が多くなります．{\LaTeX}では図表と段落のあいだや
そのほか必要と思われるところには半自動的に
空きが挿入されるようになっておりますので，闇雲に
垂直方向の空きを挿入するのは好ましくないと思われます．

長さを自分で指定して空きを挿入する場合は
 \cmd{vspace*}と \cmd{addvspace}が使えます．
\begin{Syntax}
 \Cmd{addvspace}\pa{長さ}\\
 \Cmd{vspace*}\pa{長さ} 
\end{Syntax}
 \cmd{vspace*}のアスタリスクを外すとページの最上部・最下部での
空きの挿入が有効になりません． \cmd{addvspace}は
直前の空きがどれくらいかも調べているので
 \cmd{vspace}よりも適当な空きを挿入します．
\begin{InOut}
この\vspace*{2zw}だと全角2文字分の
垂直方向の空きが挿入されると思われます．
\end{InOut}

%% hoge hgoe
%
%\section{伸縮する糊}
%{\LaTeX}ではバネのように伸縮する\K{糊}のような
%便利な道具があります．これは活版印刷時代における
%活字職人が経験で挿入する\K{詰めもの}に似ています．
%
%昔は果物を段ボール箱に入れて郵送するときには\indindz{箱}{ダンボール}%
%果物の周囲に新聞紙や\ruby{籾}{もみ}\ruby{殻}{がら}
%などを入れていました．箱の中のものが適切に宛て先に
%届けられるように入れるこの新聞紙や籾殻を
%\K{詰めもの}と呼びます．{\LaTeX}においても
%ある領域の中での空きを制御するためとか，適切な
%表示をするための詰めものが使われます．{\LaTeX}で
%使われる詰めものは\KY{グルー}と呼ばれています．
%グルーは伸縮自在でバネのように要素と要素を
%くっ付けるので伸縮する\K{糊}とも呼ばれています．
%
%グルーは特別な単位\qu{\str{fil}}と\index{fil@\texttt{fil}}%
%\index{fill@\texttt{fill}}\qu{\str{fill}}によって定義されています．
%\qu{\str{fil}}は良い\ruby{按}{あん}\ruby{排}{ばい}
%で0からかなり大きい空きまで挿入する働きを
%します．\qu{\str{fill}}は\qu{\str{fil}}よりも
%大きく無限に近い空きを挿入する働きをします．
%\begin{table}[htbp]
%\begin{center}
%\caption{{\protect\LaTeX}で使用できるグルー}
%\label{tab:gulue:fil}
%  \begin{tabular}{ll}
% \hline 
% 命令  & 意味 \\
% \hline
% \Cmd{hfil}  & 水平方向にかなり大きく伸びる空き\\
% \Cmd{hfill} & 水平方向に無限に大きく伸びる空き\\
% \cmd{hss}   & 水平方向にかなり大きく伸び縮みする空き\\
% \hline
% \cmd{vfil}  & 垂直方向にかなり大きい空き\\
% \cmd{vfill} & 垂直方向に無限に大きい空き\\
% \cmd{vss}   & 垂直方向にかなり大きく伸び縮みする空き\\
% \hline
% \end{tabular}
%\end{center}
%\end{table}
%\qu{\str{fil}}は\qu{\str{fill}}よりも弱いので
%\qu{\str{fill}}のほうが優先されます．
%\begin{InOut}
%この空き{\hfil}は{\hfil}かき消されません．\par
%この空きは{\hfil}恐らく{\hfill}かき消されます．
%\end{InOut}
%\qu{\str{fil}}と\qu{\str{fill}}の二つのグルーの
%両方を使っている場合は空きが挿入されない場合があ
%りますから気を付けてください．
%
%もう少し相対的なグルーを挿入するには
%\cmd{strecth}を使います．
%\begin{Syntax}
%\Cmd{stretch}\pa{整数}
%\end{Syntax}
%これは\qu{\str{fill}}の何倍かのグルーを挿入しても
%良いようにするために使用できます．
%\begin{InOut}
%hoge\hspace{\stretch{3}}hoge%
%\hspace{\stretch{1}}hoge.\par
%hoge\hspace{\fill}hoge\hspace{\fill}%
%hoge.\par
%\end{InOut}
%\Cmd{fill}は \cmd{hspace}や \cmd{vspace}の引数
%使うことができるグルーです．
%例えばページの最上部に無限に近いグルーを
%挿入するときは以下のようにします．
%\begin{InOut}
%\vspace*{\fill}を使ってもこの出力例で
%は伸びません．
%\end{InOut}


%\subsection{空白ではないグルー}
% \cmd{hfil}や \cmd{hfill}は空白を挿入するグルーで
%した．そうではなく，与えられた領域を程よく文字列
%や要素で埋めてくれる詰めものもあると便利です．
%目次でも使われているのがお分かりになるでしょう．
%これらを\KY{リーダ}と呼びます．{\LaTeX}
%であらかじめ定義されているリーダは
%\tabref{tab:leaders}となります．
%\qu{\str{fill}}ですから無限に伸びます．
%\begin{table}[htbp]
%\begin{center}
%\caption{主なリーダ}\label{tab:leaders}
%\begin{tabular}{lp{10zw}}
%\hline
%命令 &出力例 \\
%\hline
%\Cmd{dotfill}	    & \dotfill\\
%\Cmd{hrulefill}     & \hrulefill\\
%\Cmd{leftarrowfill} & \leftarrowfill\\
%\Cmd{rightarrowfill}& \rightarrowfill\\
%\Cmd{downbracefill} & \downbracefill\\
%\Cmd{upbracefill}   & \upbracefill\\
%\hline
%\end{tabular}
%\end{center}
%\end{table}
% \cmd{dotfill}と \cmd{hrulefill}は\Fl{ltplain.dtx}で，
%それ以外は\Fl{fontdef.dtx}にて定義されています．
%段落中で使うと段の終わりまで伸びます．
%\begin{InOut}
%\makebox[5zw][l]{ほ\dotfill げ}\par
%\hrulefill\par
%ほげ\leftarrowfill ほげ\par
%ほげほげ\rightarrowfill\par
%\end{InOut}
%これらのリーダは \Cmd{leaders}という命令によって
%定義されています．自分でこのような命令を定義した
%いときは \Cmd{leaders}， \Cmd{cleaders}， \Cmd{xleaders}
%の三つが使えます．
%例えば領域を\yo{ほげ}で埋めるような命令ならば
%次のようになります．
%\begin{InOut}
%\newcommand{\hogefill}{\leavevmode\leaders%
%  \hbox{ほげ}\hfill\kern0pt}
%\hogefill\par
%あら\hogefill そう．\par
%\end{InOut}
%
%
% geho

\section{付録の追加}\index{付録の追加}
文書の最後に付録としてプログラムリストを載せるとか，
本文とは直接的に関係のない資料を載せるときは \C{appendix}
命令を使うか，\Env{appendix}環境を
使うかの2通りの方法があります．\env{appendix}環境を
使う場合は付録の範囲を指定できます．
\begin{Syntax}
 \verb+\begin{appendix}+\\
   \va{追加する内容}\\
 \verb+\end{appendix}+
\end{Syntax}
%あえて \cmd{appendix}命令を使う必要もないでしょう．
この命令を付けた後の文章は付録として扱われ，見出し
の番号付けが自動的に大文字のアルファベットに変更さ
れ，\qu{A}からカウントされるようになります．あとは
通常通り見出しの定義をして文章を記述するだけです．


\section{原稿を複数のファイルに分ける}\zindind{原稿}{の分割}%
大規模な文書になるとそれを一つのファイルにまとめるのは効
率が悪い場合があります．第3章は田中さんが編集し第5章は斉
藤さんにお任せする，という状況では第3章と第5章の原稿は別
々に存在させたいものです．この場合は原稿を複数のファイル
に分けます．
\begin{Syntax}
\Cmd{include}\pa{ファイル名,\ldots}\\
\Cmd{input}\pa{ファイル名,\ldots} \\
\Cmd{includeonly}\pa{ファイル名,\ldots}
\end{Syntax}
 \cmd{include}命令はファイルを読み込むときに必ず新しいペ
ージから始めます．大規模な文書で章の区切りや節の区切りなど
で使用します．この命令で取り込むときはファイルを章ごとに
\pp{\cmd{chapter}ごと}に分けることが考えられます．
 \cmd{input}はそのままの意味で指定されたファイルを
そのまま親の{\LaTeX}のソースファイルに取り込みます．
取り込むファイルの拡張子が\exten{tex}ならば拡張子
を省略しても構いません．

例えば論文を作成する場合は次のように分割することも出来ます．
\begin{InText}
\documentclass[dvipdfmx,papersize]{jsbook}% クラスファイル
\usepackage{amsmath,amssymb,bm,verbatim,listings}% 必要なマクロ
\includeonly{2joron}% ある章だけを読み込む
\begin{document}
\frontmatter%       前付
\include{0preface}% 前書き
\include{1thanx}%   謝辞
\mainmatter%        本文
\include{2joron}%   序論
\include{3honron}%  本論
\include{4keturon}% 結論
\begin{appendix}%   付録
\include{5code}%    付録: ソースコード
\end{appendix}%
\backmatter%        後付
\bibliographystyle{jplain}% 文献形式
\bibliography{ron}% 参考文献
\end{document}
\end{InText}

%\section{人名の敬称の統一}
%一般的に一つの文書において人名の敬称は統一します．
%これはけっこう面倒な作業で，登場する人名を索引に
%追加する場合などの手間もあるかも知れません．その
%場合，新たに何か便利な命令を作るのが良いでしょう．
%始めに索引に追加しない簡単な例を示します．この場合，
%敬称だけを付け足す簡単なマクロです．
%\begin{InText}
%\newcommand{\hito}[1]{#1氏}
%\end{InText}
%これだけです．後は
%\begin{InText}
%\hito{渡辺徹}のおかげで1輪車に乗れるようになった．
%\end{InText}
%のように使うだけです．
%%索引にも追加する場合を
%%考えましょう．読みについては辞書ファイルに登
%%録すると仮定して
%%\begin{InText}
%%\newcommand{\hito}[1]{\index{#1}#1氏}
%%\end{InText}
%%とするか
%%\begin{InText}
%%\newcommand{\hito}[1]{%
%%   \index{#1}%
%%   \index{人名!#1}%
%%   #1氏}
%%\end{InText}
%%が考えられるでしょう．さらに並び替え用の
%%文字と表示用の語を別にしたいならば
%%\begin{InText}
%%\newcommand{\Hito}{\@ifnextchar[{\yomi@Hito}{\@Hito}}
%%\newcommand{\yomi@Hito}[2][]{\index{人名!#1@#2}%
%%   \index{#1@#2}#2氏}
%%\newcommand{\@Hito}[1]{\index{人名!#1}%
%%   \index{#1}#1氏}
%%\end{InText}
%%と定義しておき，
%%\begin{InText}
%%\Hito{Frank Mittelbach}と
%%\Hito[Rainer Schopf]{Rainer Sch\"opf}の共同制作．
%%\end{InText}
%%として使えます．これで全て大丈夫というわけでは
%%ありませんが人名ならば問題ないと思われます．

\section{翻訳作業}\label{subsec:honyaku}
しばしば日本語ではない言語で書かれた文書を訳す作業
があります．運良く原書の{\LaTeX}の原稿が手に入った
とすると，作業は幾分楽になります．例えば以下のよ
うな原稿があったとします．
\begin{InText}
Hello, everyone! I'm a student at Future University Hakodate. 
Today, please let me talk about my future plan. 
First, ...
\end{InText}
これを普通に翻訳すると
\begin{InText}
皆さん，こんにちは．私は公立はこだて未来大学の生徒です．
今日は私の未来計画についてお話したいと思います．まず，
\end{InText}
となりますが，どうせなら原書の英文も削除したくありませんので
\begin{InText}
%Hello, everyone! I'm a student at Future University Hakodate. 
皆さん，こんにちは．私は公立はこだて未来大学の生徒です．
%Today, please let me talk about my future plan. 
今日は私の未来計画についてお話したいと思います．
%First, ...
まず，
\end{InText}
のように入力すると英文と和文の対応が
取れて分かりやすいでしょう．Wordなど
ではマネのできない手法だと思います．1行ず
つに分ける必要はなく，非常に長い文章の
場合は1段落ごとに対応させるのも良いでし
ょう．

\section{用語の統一}
\zindind{用語}{の統一}
大規模な文書の場合は，\K{用語の統一}というのが必要にな
ってきます．一つの文書を複数の訳者で共同翻訳するときに専
門用語の場合や新語の場合は語句を統一しなければ，読者を混
乱させます．統一されていない事態を避けるためにはマクロを
作成しておきます．
%
\begin{InText}
Hello, everyone! I'm a student at Future University-Hakodate. 
\end{InText}
という文章があったとして`Future University-Hakodate'とい
う用語が新語であったとしましょう．この用語をどんな単語に
訳すのかをまだ決められない段階では次のようなマクロを
作成します．
\begin{InText}
\newcommand*{\FUN}{Future University-Hakodate}
\end{InText}
訳者のあいだで用語の訳が決まったならば
\begin{InText}
\newcommand*{\FUN}{公立はこだて未来大学}
\end{InText}
とします．他にも人名や専門用語などで，非常に長い文字列を
文書の中で何度も記述しなければならないときは，
上記のように \C{newcommand*} 命令で文字列を定義することになります．

ただし，欧文の場合は\Y{xspace}を使わなければ，適切な
空白が挿入されない場合がありますので，次のように定義します．
\indindz{空白}{コマンドの後の}%
\makeatletter
\begin{Syntax}
\C{newcommand*}\pa{コメンド名}\texttt\@charlb\va{文字列}\C{xspace}\texttt\@charrb
\end{Syntax}
\makeatother
\begin{InOut}
\usepackage{xspace} 
\newcommand*\LC{Logical OR}% （×）
\LC is good?  `\LC' is also ok.
\renewcommand*\LC{Logical OR\xspace}
\LC is funky! `\LC' is also ok.
\end{InOut}

%\section{色}\index{色}
%{\laTEX}では白と黒の2色しか理解できません．
%他の色を表現しようと思えば\Sty{color}パッケージなど
%の力を借りて\Z{デバイス}ドライバに全てを任せる
%ことになります．ですから色はドライバに依存しますし，プリンタが
%モノクロプリンタならばどうがんばってもグレースケール
%のページしか出力できません．
%
%色には\KY{色相}・\KY{明度}・\KY{彩度}
%の三つの要素があります．色相とは青や緑などの波長の種類，
%明度はその波長の明るさ，彩度は黒色の少なさを表します．
%%色相については\kutiref{sikiso}を，明度と彩度
%%の相関については\kutiref{meisai}を参照してください．
%
%
%\subsection{要素に色を付ける}
%{\LaTeX}は白と黒の2色しか理解できません．ですから
%そのほかの色を付ける場合はデバイスドライバに
%全てを任せます．グレースケースでも同様です．
%色を付けるためには\sty{graphics}パッケージと同封
%されている\Hito{David Carlisle}が作成した
%\Sty{color}パッケージを使います．\sty{color}を
%使うにはまず\sty{graphicx}と同じように使用する
%デバイスドライバを指定します．\prog{\dvipdfmx}
%などを使っているときは
%\begin{InText}
%\usepackage[dvipdfm]{color} 
%\end{InText}
%のようにします．パッケージオプションとして
%次のようなものがあります．
%\begin{description}
% \item[\Option{usenames}] \sty{color}パッケージで
%  定義されている色の名前を全て使えるようにします．
%\option{usenames}で使用できる色名は\kutiref{color}
%の通りです．
% \item[\Option{dvipsnames}] \prog{dvips}で
%使用できる色を名前を指定して使えるようにする．
%\end{description}
%%の二つも指定するのが良いと思われますので
%%\begin{InText}
%%\usepackage[dvipdfm,usenames]{color} 
%%\end{InText}
%%のようにします．
%色の指定には四つあります．
%\begin{description}
% \item[\str{rgb}] Red，Green，Blueの3色を
% 混ぜ合わせて\K{加法混色}で色を指定します．
% それぞれの色は0から1のあいだで指定します．
% \item[\str{cmyk}] Cyan，Magenta，Yellow，Blackの4色を
% 混ぜ合わせて\K{減法混色}で色を指定します．これも0から1のあいだで
% 指定します．
% \item[\str{gray}] グレースケースで0から1のあいだで濃さを決めます．
% \item[\str{named}] あらかじめ定義された名前を使うことを
% 意味します．
%\end{description}
%
%新規に色の名前を定義するときは \cmd{definecolor}を
%使います．
%\begin{Syntax}
%\Cmd{definecolor}\pa{名前}\pa{種類}\pa{値}
%\end{Syntax}
%\va{種類}には上記の四つが選択できます．
%例えば以下のように定義します．
%\begin{InText}
%\definecolor{MyGray}{gray}{0.85}
%\definecolor{MyRed}{rgb}{0.3,0,0}
%\definecolor{MyYellow}{cmyk}{}
%\end{InText}
%
%文字列の色は \cmd{textcolor}を使って色を指定します．\indindz{色}{文字の}
%\begin{Syntax}
%\Cmd{textcolor}\pa{色} \\
%\Cmd{textcolor}\opa{種類}\pa{値}\pa{文字列}
%\end{Syntax}
%ある範囲中の要素には \cmd{color}命令で指定します．
%\begin{Syntax}
%\Cmd{color}\pa{色}  \\
%\Cmd{color}\opa{種類}\pa{値}
%\end{Syntax}
%\begin{InOut}
%\textcolor{Gray}{この文字は灰色}\\
%\textcolor[rgb]{1,0,0}{赤になりたい}\\
%{\color{Gray}{\fbox{枠も文字も灰色です．}}}
%\end{InOut}
%
%基本色を \cmd{color}命令で指定せずにそのまま
%色の名前を使えるようにするには
%\begin{InText}
%\newcommand{\black}{\color{black}}
%\newcommand{\gray}{\color{Gray}}
%\newcommand{\white}{\color{white}}
%\newcommand{\red}{\color{red}}
%\newcommand{\green}{\color{green}}
%\newcommand{\blue}{\color{blue}}
%\newcommand{\cyan}{\color{cyan}}
%\newcommand{\magenta}{\color{magenta}}
%\newcommand{\yellow}{\color{yellow}}
%\end{InText}
%のように定義するだけです．
%\begin{InOut}
%\newcommand{\gray}{\color{Gray}}
%{\gray ここは灰色になります}
%\end{InOut}
%
%ページの背景色を指定するときは \cmd{pagecolor}命令を使います．
%\zindind{ページ}{の背景色}\indindz{色}{ページの}%
%\begin{Syntax}
%\Cmd{pagecolor}\pa{色}\\
%\Cmd{pagecolor}\opa{種類}\pa{値}
%\end{Syntax}
%これは命令を使ったそのページからずっと色の
%指定が有効ですので，1ページだけの色を変更したい
%ときはページの切り替わるだろう部分で色を
%元々の色に戻します．
%
%\indindz{箱}{枠付きの}枠付きの箱の背景を指定できる \cmd{colorbox}命令があります．
%\begin{Syntax}
%\Cmd{colorbox}\pa{色}\pa{文字列}\\
%\Cmd{colorbox}\opa{種類}\pa{値}\pa{文字列}
%\end{Syntax}
%\begin{InOut}
%\colorbox{red}{背景が赤になる}\\
%\colorbox[gray]{.8}{背景は灰色}\\
%\colorbox{black}{\color{white}%
%  背景が黒で文字は白}
%\end{InOut}
%\zindind{枠}{の色}%
%さらに枠の色とその背景の色を指定できる \Cmd{fcolorbox}
%もあります．
%\begin{Syntax}
%\Cmd{fcolorbox}\pa{枠の色}\pa{背景色}\pa{文字列}\\
%\Cmd{fcolorbox}\opa{種類}\pa{枠の色の値}%
%  \pa{背景色の値}\pa{文字列}
%\end{Syntax}
%\Cmd{fcolorbox}では \cmd{fbox}と同じように
% \Cmd{fboxrule}と \Cmd{fboxsep}を調整できます．
%\begin{InOut}
%\fcolorbox{red}{blue}{枠が赤で背景が青}\\
%\fcolorbox[gray]{.5}{.8}{枠も背景も灰色}\\
%{\fboxrule=2.4pt\fcolorbox{blue}{red}%
%  {枠の線幅の調節}}
%\end{InOut}
%

%\section{プログラムソースの挿入}
%%論文にもJavaのソースコードを載せたいと思
%%うときがあります．そのようなときは
%%\Sty{listings}~\cite{omlistings}というマク
%%ロを使用することにより，より美しくソースコ
%%ードを載せることが出来ます．
%プログラムなどのソースコードを載せるときに，
%\env{verbatim}だけでは寂しいと感じる方も多い
%と思います．変数やコメントなどをうまく整形する
%プログラムやマクロパッケージがあります．アル
%ゴリズムの行数を文中で指定したいときには行数も
%表示されるとうれしいものです．\Prog{Texinfo}
%のように変数名や関数名なども半自動的に索引に
%追加されるとうれしいものです．ソースコードの
%整形プログラムの中で私が良いと思うのが
%\Hito{Carsten Heinz}が作成した\Sty{listings}
%です．これは正式には日本語が通りませんが，
%\Hito{吉永徹美}が作成した自称強引なマクロ
%で切り抜けることができます．これに関しては
%\Hito{奥村晴彦}の掲示板の\yy{汎用的な浮動体}
%\begin{quote}
%\url{http://oku.edu.mie-u.ac.jp/~okumura/texfaq/qa/21172.html} 
%\end{quote}
%という一連の書き込みを参照してください．結果と
%してこれをまとめたファイルを\Fl{jlisting.sty}
%として置いておきます．おそらく私のサイトの
%\begin{quote}
%\url{http://tex.dante.jp/}
%\end{quote}
%にあると思われます．他にも\prog{lgrind}，
%\sty{morevrb}，\sty{progc}などの類似品がありますが
%それらの包括的なパッケージが\sty{listings}です．
%この\sty{listings}だけを使用していれば特に
%困ることもないと思います．
%
%\sty{listings}を使用するときにはプリアンブルに
%\begin{InText}
%\usepackage[オプション]{listings}
%\end{InText}
%のようにします．このときに指定する
%パッケージオプションは
%\begin{description}
% \item[\option{draft}] 
%    ソースコードを出力しないようにします．
%    ドキュメントクラスオプションですでに\option{draft}
%    を指定している場合はそれが反映されるので，さらに
%    オプションを記述する必要はありません．
% \item[\option{final}] 
%    \option{draft}オプションを無効にし，
%    実際にソースコードを整形します．
% \item[\option{savemem}] 
%    {\laTEX}のメモリをなるべく消費しないようにします．
%\end{description}
%%
%などがあります．\sty{listings}は{\TeX}のメモリを
%たくさん使いますので原稿執筆の段階では
%\option{draft}オプションを付けたほうが良いでしょう．
%
%\sty{listings}の使い方は大きく分けて二つです．
%一つは\Env{lstlisting}環境にソースコードを記述する
%方法，二つ目はプログラムのソースコードをファイルから
%入力する方法です．
%一つ目の{\LaTeX}の原稿に直接記述する方法は
%次のような文法になります．
%\begin{Syntax}
%\env{begin}\verb|{lstlisting}|\opa{設定1,設定2,...} \\
%ソースコード\\
%\env{end}\verb|{lstlisting}|
%\end{Syntax}
%例としてCのソースを記述するならば
%\begin{InText}
%\begin{lstlisting}[language=c]
%int main( void ){
%   printf("Hello，World!!\n");
%}
%\end{lstlisting}
%\end{InText}
%とになります．
%
%二つ目の方法としては \Cmd{lstinputlisting}命令
%を使ってファイルからソースコードを読み込みます．
%\begin{Syntax}
%\cmd{lstinputlisting}\opa{設定1,設定2,...}\pa{ファイル名}
%\end{Syntax}
%
%\va{設定}を毎回指定していたのでは
%疲れますので \Cmd{lstset}命令で
%\begin{InText}
%\usepackage[dvips]{color}
%\lstset{%listingsの表示設定
%    frame=tbrl,%枠を上下左右に表示する
%    backgroundcolor={\color[gray]{0.85}},%背景を灰色に
%    numbers=left,%行番号を左に
%    numberstyle=\scriptsize,%
%    stepnumber=1,%1行おきに行番号を
%    numbersep=1zw}%ソースと行番号の間隔
%\end{InText}
%のように設定しておけば全てのソースコードに
%共通の設定をすることができます．この設定の
%場合は上下左右に枠を表示させ，背景色を薄い
%グレーにし，行番号を左側の1行おきに表示する\indindz{番号}{行}%
%ようにします．
%
%いくつかの設定をひとまとめにしたいときは
% \Cmd{lstdefinestyle}命令を使ってスタイルを定義します．
%\begin{Syntax}
%\Cmd{lstdefinestyle}\pa{スタイル名}\pa{設定}
%\end{Syntax}
%例えば行番号に関しては左側に1行おきに表示させたいので
%\begin{InText}
%\lstdefinestyle{number1}{numbers=left，numberstyle=\scriptsize,%
%   stepnumber=1，numbersep=1zw}
%\end{InText}
%という定義をして
%\begin{InText}
%\begin{lstlisting}[language=c,style=number1]
%\end{InText}
%のように指定したり，または特定の言語に共通のスタイルを用いるときは
%\begin{InText}
%\lstdefinstyle{C}{language=c,style=number1}
%\end{InText}
%として
%\begin{InText}
%\begin{lstlisting}[style=c]
%\end{InText}
%と使うこともできます．
%
%ある言語のソースコード用に新しい環境を定義できます．
%\begin{Syntax}
% \Cmd{lstnewenvironment}\pa{環境名}\pa{始めの設定}\pa{終わりの設定}
%\end{Syntax}
%例えばC言語用の環境を新たに定義するときは
%\begin{InText}
%\lstnewenvironment{C}{%
%\lstset{language=c,style=number1}}{}
%\end{InText}
%のとしても良いでしょう．
%
%ソースコードを浮動体\pp{float}として出
%力することもできます．具体的には
%\begin{InText}
%\begin{lstlisting}[language=c,float,caption={listingsの使用例}]
%int main( void ){printf("Hello，World!!\n");}
%\end{lstlisting}
%\end{InText}
%のようになります．%削り
%
%\subsection{言語の設定}
%\newcommand{\lag}[1]{\textrm{#1}&}
%\sty{listings}では非常に多くの言語用の設定が定義されています．
%あらかじめ定義されていない言語は自分で新たに定義することもで
%きます．あらかじめ定義されている言語は\tabref{tab:listinglang}
%の通りです．
%\begin{table}[htbp]
%\begin{center}
%\caption{\Sty{listings}で使用できる主な言語}\label{tab:listinglang}
% \begin{tabular}{llll}
% \hline
% \lag{Assembler}   \lag{Basic}      \lag{C}\\
% \lag{C++}         \lag{Cobol}      \lag{csh}\\
% \lag{[Sharp]C}    \lag{Delphi}     \lag{Fortran}\\
% \lag{HTML}        \lag{IDL}        \lag{Java}\\
% \lag{ksh}         \lag{[LaTeX]TeX} \lag{Lisp}\\
% \lag{Logo}        \lag{make}       \lag{Mathematica}\\
% \lag{Matlab}      \lag{MetaPost}   \lag{MuPAD}\\
% \lag{Octave}      \lag{Pascal}     \lag{[plain]TeX}\\
% \lag{Perl}        \lag{PHP}        \lag{Prolog}\\
% \lag{Python}      \lag{Ruby}       \lag{Scilab}\\
% \lag{SQL}         \lag{tcl}        \lag{[tk]tcl}\\
% \lag{TeX}         \lag{VBScript}   \lag{[Visual]Basic}\\
% \lag{[Visual]C++} \lag{VRML}      \lag{XML}\\
% \hline
% \end{tabular}
%\end{center}
%\end{table}
%角括弧を含む言語の指定は
%\begin{InText}
%\begin{lstlisting}[\language={[LaTeX]TeX}]
%\end{InText}
%のように波括弧の中に入れて指定するのが安全です．
%
%言語があらかじめ定義されていなくても， \Cmd{lstdefinelanguage}
%命令で自分で言語の定義をすることができます．
%\begin{Syntax}
%\Cmd{lstdefinelanguage}\pa{言語名}\pa{設定}
%\end{Syntax}
%
%具体的には
%\begin{InText}
%\lstdefinelanguage{CCC}{
%   morekeywords={short，int，long，float，double},%予約語
%   sensitive=false,
%   morecomment=[l]{//},%行末コメント
%   morecomment=[s]{/*}{*/},%範囲コメント
%   morestring=[b]",%文字列
%   morestring=[d]',%文字}
%\end{InText}
%%"
%のようにします．
%
%標準の\sty{listings}の字詰めや\Z{行送り}は
%ローマン体でなるべく等幅になるように字詰めを
%しています．そちらのほうが正しい設定なのでしょ
%うが，見栄えを考えると
%\begin{InText}
%   columns=[l]{fullflexible}
%\end{InText}
%としたほうが良いかもしれません．タイプライタ
%体で出力しない場合は等幅になりませんので，ソ
%ースコードとしては不適切な設定かもしれません．
%
%
%\subsection{主な設定値}
%空白などに関する設定です．
%\begin{description}
%% \item[{\key{aboveskip}=\va{長さ}}] 
%% \item[{\key{belowskip}=\va{長さ}}] 
% \item[{\key{lineskip}=\va{長さ}}] 
%	    行間にさらに加える空きを調節します．標準は0\,pt．
% \item[{\key{firstline}=\va{整数}}] 
%	    入力されているソースコードを，どの行から読み込むを
%	    設定します．標準は1．
% \item[{\key{lastline}=\va{整数}}] 
%	    ソースコードのどの行まで読み込むかを設定します．
%	    標準は9999999．
%% \item[{\key{showlines}=\va{true\or false}}] 
% \item[\key{tabsize}=\va{整数}]
%	    ソースコード中のタブ文字を何文字分にするかを
%	    設定します．標準は8です．
% \item[{\key{showtabs}=\va{\str{true}\ka \str{false}}}]
%	    タブ文字を可視・不可視にします．
% \item[{\key{tab}=\va{文字列}}]
%	    タブ文字を\va{文字列}に置き換えて表示します．
%	    \verb|$\Longrightarrow$|\pp{$\longrightarrow$}など
%	    を使う方法もあります．
% \item[{\key{showspace}=\va{\str{true}\ka \str{false}}}]
%	    スペースを可視\pp{\textvisiblespace}・不可視\pp{ }に
%	    します．
% \item[{\key{linewidth}=\va{長さ}}]
%	    ソースコードの文章幅を指定します．標準は
%	    \cmd{linewidth}です．
% \item[{\key{xleftmargin}=\va{長さ}}]
%	    左側の余白を指定します．標準は0\,ptです．
% \item[{\key{xrightmargin}=\va{長さ}}]
%	    右側の余白を指定します．標準は0\,ptです．
% \item[{\key{breaklines}=\va{\str{true}\ka \str{false}}}]
%	    ソースコードの文章幅よりも長い文字列を
%	    自動的に折り返すかを指定します．
%	    標準は\str{false}です．
% \item[{\key{prebreak}=\va{文字列}}]
%	    行頭に挿入する文字列を指定します．
% \item[{\key{postbreak}=\va{文字列}}]
%	    行末の挿入する文字列を指定します．例えば
%	    行末の改行の位置を特別に示したいときは
%	    \qu{\key{postbreak}=\str{\return}}のようにすると良
%	    いでしょう．
%\end{description}
%
%言語の設定です．
%\begin{description}
% \item[\key{language}=\pa{言語}] 
%	    あらかじめ定義されている
%	    主な言語については\tabref{tab:listinglang}を
%	    ご覧ください．
%\end{description}
%
%文字の表示の仕方の設定です．
%\begin{description}
% \item[{\key{basicstyle}=\va{スタイル}}] 
%	    通常のソースのスタイルを設定します．
%	    \va{スタイル}には \cmd{small}や \cmd{ttfamily}などの
%	    フォントの宣言をする命令が使えます．
% \item[{\key{commentstyle}=\va{スタイル}}] 
%	    コメントのスタイルを設定します．
% \item[{\key{stringstyle}=\va{スタイル}}] 
%	    ソースコード中の文字列のスタイルを設定します．
% \item[{\key{keywordstyle}=\va{スタイル}}] 
%	    キーワード，プログラミング言語で言えば予約語の
%	    スタイルの設定です．
%\end{description}
%
%行番号の表示の設定です．
%\begin{description}
% \item[{\key{numbers}=\va{\str{none}\ka \str{left}\ka \str{right}}}]
%	    行番号をどのように表示するかの設定です．
% \item[{\key{stepnumber}=\va{数字}}]
%	    何行おきに行番号を表示するかを設定します．
% \item[{\key{numberstyle}=\va{スタイル}}]
%	    行番号のスタイルを指定します．\indindz{スタイル}{行番号の}%
% \item[{\key{firstnumber}=\va{\str{auto}\ka \str{last}\ka \va{数字}}}]
%	    行番号の開始の数字を指定します．
%\end{description}
%
%浮動体などに関する設定です．
%\begin{description}
% \item[{\key{float}=\va{htbpの部分集合}}]  
%	    ソースコードを浮動体として出力します．
% \item[{\key{caption}=\va{文字列}}]
%	    見出しの文字列を指定します．
% \item[{\key{label}=\va{文字列}}]
%	     \cmd{ref}命令で参照できるラベルを作成します．
% \item[{\key{captionpos}=\va{t\ka b}}]
%	    見出しの位置を指定します．
%\end{description}
%
%以下の命令はソースコードを目次として出力する
%ときなどの命令です．適宜再定義してください．
%\begin{description}
% \item[\Cmd{lstlistoflistings}]
%	    ソースコード目次を出力します．
%	    これは\key{caption}を付けたソースコードが出力されます．
% \item[\Cmd{lstlistlistingname}]
%	    ソースコード目次の見出しです．標準は\qu{Listings}です．
% \item[\Cmd{lstlistingname}]
%    見出しの前の文字列を指定します．標準は\qu{listing}です．
%\end{description}
%\cmd{lstlistlistingname}命令と \cmd{lstlistingname}は
%\begin{InText}
%\renewcommand{\lstlistlistingname}{ソースコード目次}
%\renewcommand{\lstlistingname}{ソースコード}
%\end{InText}
%のように定義しておくと日本語の文書でも
%違和感がないと思います．
%
%罫線枠に関する設定です．
%\begin{description}
% \item[\key{frame}=\va{\str{none}\ka\str{single}\ka\str{shadowbox}}] 
%    ソースコードの周りに表示する罫線枠の設定です．
% \item[\key{frame}=\va{trblTRBLの部分集合}] 
%    上\pp{t}・下\pp{b}・左\pp{l}・右\pp{r}の罫線の表示を指定します．
%\end{description}
%枠を付けて表示する例として
%\begin{InText}
%\begin{lstlisting}[frame=TBlr,]
%main( void ){
%   int a=3; int b=5;
%   printf("a+b=%d.\n", a+b);
%}
%\end{lstlisting} 
%\end{InText}
%と入力するとソースコード~\ref{src:wakune}
%のようになります．
%\begin{lstlisting}[frame=TBlr,caption={枠の調整},label=src:wakune]
%main( void ){
%   int a=3; int b=5;
%   printf("a+b=%d.\n", a+b);
%} 
%\end{lstlisting}
%
%色に関する設定です．
%\begin{description}
% \item[\key{backgroundcolor}=\va{色}] 
%    \sty{color}パッケージで使われる宣言型の命令 \Cmd{color}
%    などが使えます．
% \item[\key{rulecolor}=\va{色}] 
%    罫線枠の色を指定します．
%\end{description}
%色と付ける例として
%\begin{InText}
%[frame=single,backgroundcolor={\color[gray]{.85}},
%rulecolor={\color[gray]{.5}}]
%\end{InText}
%という入力はソースコード~\ref{src:iro}となります．
%\begin{lstlisting}[frame=single,caption={色の調整},{backgroundcolor=\color[gray]{.85}},{rulecolor=\color[gray]{.5}},label=src:iro]
%main( void ){
%   int a=3; int b=5;
%   printf("a+b=%d.\n", a+b);
%} 
%\end{lstlisting}
%
%ソースコードは浮動体として宣言できますので
%\begin{InText}
%\lstinputlisting[language={Prolog},caption=Prologのソースコードを%
%\textsf{Listings}を使って挿入する例,label=src:prolog]{filename.pl}
%\end{InText}
%\indindz{相互参照}{ソースコードの}%
%とすれば相互参照も可能になります\pp{ソースコード\ref{src:prolog}}．
%\begin{lstlisting}[caption={Prologのソースコードを\textsf{Listings}を使って挿入する例},label=src:prolog,{columns=[l]{fullflexible}}]
%% File:    prolog.pl 
%% Author:  Toru Watanabe 
%% Date:    Saturday, Aug. 9th, 2003 
%% Original Source Information: 
%% File: Micro Expert System.
%% Ian Frank, July 2001, updated May 2002 
%% (Based on original by Alison Cawsey) 
%% Dynamic userfact/1 
%:- dynamic(userfact/1).
%% Clear userfact/1
%clear_facts :-                     
%  retract(userfact(_)),
%  clear_facts.
%clear_facts :-                     
%  write('OK，removed user facts')．
%% NEW OPERATORS
%:- op(975，fx，if).
%:- op(950，xfy，then).
%:- op(925，xfy，and).
%%% If All people come to X's party，thne X is happy.
%rule(if all_come_the_party(X) then happy(X) ).
%qtext(good(X,wed_class) ，['Is ',X,'\'s Wednesday class good?'] ).
%%% If X is happy，this problem would be succeed.
%atext(happy(X),['Everyone comes to the party and ',X,' is happy!!']).
%% 
%prove(Goal) :-
%  bchain(Goal),!，                 % bchain to check if true.
%  atext(Goal，Text)，              % get hold of appropriate text.
%  write_list(Text)．               % write out the recommendation
%%
%prove(_) :- 
%  write_list(['The goal does not seem to be true.']).
%%
%yesno(Text) :-
%  write_list(Text),
%  write_list(['(y/n)']),
%  get(X),
%  X =:= 121.  
%\end{lstlisting}

\section{URLの記述}\label{sec:url}
近年は公式な文書の中にもウェブ上への参照先を示すために\Z{URL}と
呼ばれるアドレスを書く場合があります．これを{\LaTeX}で実現しようと
思えば \cmd{verb}命令が使えると思うのですが\Z{脚注}の中では使えない，
引数の中で使えないという事態に陥ります．このようなときは
\Hito{Donald Arseneau}による\Sty{url}を使うと良いでしょう．
使い方は \cmd{verb}命令とほぼ同じで\qu{\texttt\%}や\qu{\texttt\#}
などの特殊記号に対して特別な対処をしなくともそのまま
記述できます．URLに対しては \Cmd{url}を，
パスやファイルを示す場合は \Cmd{path}を使います．\Z{e-mail}
などを表記する場合は新規に \cmd{email}命令をを定義します．
\begin{InText}
\newcommand{\email}{\begingroup \urlstyle{rm}\Url}
\end{InText}
使われるフォントは \Cmd{urlstyle}で指定します．
スラッシュやピリオドの位置などで自動的に改行されます．
\indindz{改行}{URLの}%
\begin{InOut}
\newcommand*\email{\begingroup
  \urlstyle{rm}\Url}
\newcommand*\dir{\begingroup
  \urlstyle{tt}\Url}
\url{http://www.server.com/dir/file.htm}
にアクセスしたら\email{name@server.ac.jp}
というメールアドレスがあったので，
\dir{/usr/local/bin/octave}を削除した．
\end{InOut}

%\section{ハイパーリンクの実現}
%\label{macro:hyperref}\zindind{相互参照}{のハイパーリンク}%
%{\LaTeX}でもHTMLのように相互参照にハイパーリンクを実現
%できます．\Hito{Sebastian Rahtz}が作成した
%\Sty{hyperref}~\cite{omhyperref}を使うことになると思います．こ
%れは \cmd{special}命令によってハイパーリンクを実現
%する\word{Hyper\TeX}を使いやすくしたものと考えて良いです．
%
%{\LaTeX}と{HTML}を足して2で割ったような文法で，
%次のようなマクロが提供されています．\va{URL}
%の書き方はHTMLとまったく同じで，拡張子や
%\texttt{\#}なども忘れないでください．
%\begin{Syntax}
% \cmd{hypertarget}\pa{name}\pa{文字列}
%\end{Syntax}
%\Cmd{hypertarget}は\va{name}を名札として
%\va{文字列}にラベルを付けます．ラベルをつけたもの
%は \cmd{href}などにより参照できます．
%
%\begin{Syntax}
%\cmd{href}\pa{URL}\pa{文字列}
%\end{Syntax}
%\Cmd{href}はファイルやラベルなどの\va{URL}を
%参照します．\va{URL}には
%\begin{InText}
%\href{http://www.server.co.jp/~user/index.htm}{ここをクリック} 
%\end{InText}
%のように\Z{絶対パス}でファイルやサイトを指定することができますし，%
%\indindz{パス}{絶対}\indindz{パス}{相対}%
%\Z{相対パス}で指定することもできます．URLにチルダや特殊な記号が
%あるからといって，特別なこともしなくてもよいようです．
%アドレス中にピリオドが二つあると拡張子を誤認するかもしれ
%ないので，一番最後のピリオド以外をアンダーバーに変えると
%どうにかなるかもしれません．
%
%\begin{Syntax}
%\cmd{hyperimage}\pa{URL}
%\end{Syntax}
% \cmd{hyperimage}は画像ファイルの\va{URL}を指定し，
%該当するファイルがあればそれを張り込みます．
%
%\secref{sec:url}で紹介した\sty{url}と同等の
% \Cmd{url}命令も使えます．\sty{hyperref}の
% \cmd{url}を使うと自動的にハイパーリンクが作成されます．


%\subsection{Acrobat固有の機能}
%ハイパーリンクの枠を超えて，Adobe社のAcrobat固有の
%機能も，この\macro{hyperref}から記述することができます%
%\footnote{現在Adobe社ではPDFを閲覧するためのプログラム
%であるAdobe Readerも配布していますが，機能の互換性は
%保たれています．}．
%もちろんこの機能を使うためには出力形式をPDFにしなければ
%なりませんが．
%
%\begin{Syntax}
%\cmd{Acrobatmenu}\pa{メニューオプション}\pa{文字列}
%\end{Syntax}
%\indc{Acrobatmenu}により，\va{メニューオプション}の
%機能を持った\va{文字列}が作成されます．使用できる主な機能を
%\tabref{tab:hyperref:acrobatmenu}に示します\footnote{Acrobatは%
%\keytop{Ctrl}キーを押しながら起動すると言語を選択できますので，
%英語で起動してみれば，何がどのように対応しているのかのヒント
%になるでしょう．表中の英語を見れば分かると思いますが$\ldots$}．
%\begin{table}[htbp]
%\begin{center}
% \caption{hyperrefのAcrobatメニューオプション}
% \label{tab:hyperref:acrobatmenu}
% \begin{tabular}{l|p{.7\textwidth}}
% \hline
% メニュー& メニューオプション\\
% \hline
% \win{ファイル}  & 
%  \optionlist{Open,Close,Scan,Save,SaveAs,Optimizer:SaveAsOpt,Print,%
%  PageSetup,Quit}\\
% \win{文書のプロパティ}  & 
%  \optionlist{GeneralInfo,OpenInfo,FontsInfo,SecurityInfo}\\
% \win{編集}  & 
%  \optionlist{Undo,Cut,Copy,Paste,Clear,SelectAl}\\
% \win{表示}  & 
%  \optionlist{ActualSize,FitVisible,FitWidth,FitPage,ZoomTo,FullScreen,%
%  FirstPage,PrevPage,NextPage,LastPage,GoToPage,GoBack,GoForward,%
%  SinglePage,OneColumn,TwoColumns,ArticleThreads,PageOnly,ShowBookmarks,%
%  ShowBookmarks,ShowThumbs}\\
% \win{ツール}  & 
%  \optionlist{Hnad,ZoomIn,ZoomOut,SelectText,SelectGraphics,%
%  Note,Link,Thread}\\
% \win{ウィンドウ}  & 
%  \optionlist{ShowHideToolBar,ShowHideMenuBar,ShowHideClipBoard,%
%  Cascade,TileHorizonal,TilVertical,CloseAll}\\
% \hline
% \end{tabular}
%\end{center}
%\end{table}

\begin{comment}

\subsection{パッケージオプション}
\sty{hyperef}はほとんど全てのパッケージ
オプションを\sty{keyval}を使って
\qu{\va{項目}=\va{値}}のような指
定で設定します．ブール値ならば
\va{値}を省略できます．
%\begin{Syntax}
%\cmd{usepackage}\opa{オプション,\ldots}\pa{hyperref}
%\end{Syntax}
 \cmd{usepackage}命令の任意引数に対して\va{オプション}
を渡せばそれが\sty{hyperref}のパッケージオプションに
なります．
例を示すと，
\begin{InText}
\usepackage[pdfpagemode=FullScreen,colorlinks=true,dvipdfm]{hyperref} 
\end{InText}
のようにするとPDF文書を開いたときにフルスクリーンで表示し，
リンクのある文字の色が変更され，DVIドライバには\prog{dvipdfm}
を使うという設定になります．
\sty{hyperref}で使用できる主なパッケージオプション
を紹介しておきます．特に断りがない限り
以下のオプションはブール値であって
\begin{InText}
breaklinks=false 
breaklinks=true 
\end{InText}
のように有効\pp{\qu{\str{true}}}か無効\pp{\qu{\str{false}}}
で指定できるようになっています．ただ単に
そのオプションを指定するとそのオプションが有効になります．
\begin{description}
 \item[デバイスドライバ] デバイスドライバとしては
\Option{dvips}，\Option{ps2pdf}，\Option{latex2html}，
\Option{tex4ht}，\Option{pdftex}，\Option{dvipdfm}など
が使えます．

 \item[用紙サイズ] 用紙サイズを\Option{a4paper}，
\Option{a5paper}，\Option{b5paper}などで指定して
デバイスドライバに応じた設定をします．
\end{description}

ハイパーリンクに関する設定です．
\begin{description}
 \item[\Option{breaklinks}] ハイパーリンクが複数行に
にまたがっても良いようにします．使用したほうが良いで
しょう．
 \item[\Option{colorlinks}] ハイパーリンクがあることを
枠ではなく，文字列に色を付けて示します．
可読性を考えて使用すると良いでしょう．
\end{description} 

PDFしおりに関する設定です．
\begin{description}
 \item[\Option{bookmarks}] PDFしおりを作成するようにします．
 \item[\Option{bookmarksopen}] PDFしおりを
展開するかどうかの設定です．\prog{dvipdfm}などは
パッケージ側で指定してもプログラム側で対応して
いないかもしれません．\Hito{角藤亮}の配布している
\prog{dvipdfm}と\prog{\dvipdfmx}にはコマンド
ラインオプション\copt{-E}によって展開できます．
 \item[\Option{boookmarksopenlevel}=\va{数値}] 
PDFしおりを展開する深さを指定します．これは{\LaTeX}
における見出しと同じ\va{数値}を使いますから
\tabref{tab:sectiondepth}を参照してください．
 \item[\Option{bookmarksnumbered}] 
PDFしおりにおいて見出し番号を含めます．\indindz{番号}{PDFしおりの見出し}%
 \item[\Option{bookmarkstype}=\va{種類}] 
\va{種類}にはPDFしおりに使うべき目次情報を指定します．
PDFしおりに特別なしおりをすでに別ファイル\Va{file}{foo}に
作成しているならば\va{種類}には\qu{\str{foo}}を
指定します．
\end{description}
PDFしおりに特殊なコマンドが含まれているときは
うまくしおりが作成されませんので \Cmd{texorpdfstring}命令
を使います．
\begin{Syntax}
\Cmd{texorpdfstring}\pa{{\LaTeX}での表記}\pa{PDFでの表記}
\end{Syntax}
これを使うのは例えば見出し用のコマンドに数式などが
含まれるときです．以下のように
\begin{InText}
\section{この\hoge について}
\end{InText}
とするとうまく行かないので
\begin{InText}
\section{この\textorpdfstring{\hoge}{hoge}について} 
\end{InText}
とするのが良いことになります．

デバイスドライバとしては\prog{dvipdfm}ではなく
\prog{\dvipdfmx}を使うと良いでしょう．
その場合はオプションとして\qu{\str{dvipdfmx}}
ではなく\qu{\str{dvipdfm}}を渡します．
\begin{InText}
\usepackage[dvipdfm,bookmarks=true,%
bookmarksnumbered=true,bookmarkstype=toc]{hyperref}
\end{InText}
上記のようにすると\Va{file}{toc}からPDFしおりが
見出し番号付きでPDFに追加できます．
この場合ソースコードの先頭でPDFに対して
渡すべき文字コードを指定します．
\begin{InText}
\AtBeginDvi{\special{pdf:tounicode 90ms-RKSJ-UCS2}}
%\AtBeginDvi{\special{pdf:tounicode EUC-UCS2}}%NTT jLaTeX
\end{InText}
私の場合は以下のように設定しています．
\begin{InText}
\AtBeginDvi{\special{pdf:tounicode 90ms-RKSJ-UCS2}}
\usepackage[dvipdfm,bookmarks=true,%
   bookmarkstype=toc,bookmarksnumbered=false,%
   bookmarksopen=true,colorlinks=true,%
   linkcolor=blue,citecolor=blue,filecolor=blue,%
   menucolor=magenta,pagecolor=blue,urlcolor=blue,%
   backref=page]{hyperref}
\end{InText}

PDFファイルに対して\yo{文書情報}というものを\indindz{ファイル}{PDF}%
追加したければ\sty{hyperref}を読み込んでから
\begin{InText}
%\AtBeginDvi{\special{pdf:tounicode 90ms-RKSJ-UCS2}}
\special{pdf:docinfo <<
  /Author   ( 著者を書く )
  /Title    ( 主題を書く )
  /Subject  ( 副題を書く )
  /Creator  ( どのプログラムを使ってPDFを作成したのか )
  /Keywords ( キーワード，複数個，指定，可能)
>>} 
\end{InText}
のような設定をします．丸括弧の中には適当な
情報を追加します．これを\prog{\dvipdfmx}で
PDFに変換し\Prog{pdfinfo}でそのPDF文書情報を
見ることもできます．パッケージオプションに
\begin{InText}
%\AtBeginDvi{\special{pdf:tounicode 90ms-RKSJ-UCS2}}
\usepackage[dvipdfm,pdftitle={主題},%
pdfsubject={副題},pdfauthor={著者},%
pdfkeywords={キーワード}]{hyperref}
\end{InText}
としても同じことになります．

\end{comment}

\endinput
